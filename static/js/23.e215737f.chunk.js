(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[23],{1337:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var a=n(19),r=n.n(a),c=n(22),i=n(39),s=n(169),o=n(1),u=n(651),d=n(983),l=n(1364),p=n(772),f=n(693),h=n(674),b=n(1340),j=n(116),O=n.n(j),x=n(710),m=n(711),g=n(696),v=n(17),y=new g.a;function w(e){var t=""===e.date.data?"":e.date.data,n=e.dept,a=e.deptN;Object(o.useEffect)((function(){j()}),[e]);var c=Object(o.useState)([]),d=Object(s.a)(c,2),p=d[0],f=d[1],j=function(){var t=Object(i.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getOT({date:e.date,dept:n});case 2:a=t.sent,f(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!0,t.next=3,y.approveOT({dept:n,date_action:e.date});case 3:if(!a){t.next=7;break}return O()({title:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08 !",icon:"success"}),t.next=7,j();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O()({text:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){y.rejectOTbyEmp({date:t.OT_DATE,emp_no:t.EMP_NO}),e?(O()("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",{icon:"success"}),j()):O()("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07",{icon:"success"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(){return(k=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O()({text:"\u0e04\u0e38\u0e13\u0e41\u0e19\u0e48\u0e43\u0e08\u0e27\u0e48\u0e32\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e19\u0e35\u0e49\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){y.rejectOTbyDate({date:e.date,dept:e.dept});t?(O()("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08",{icon:"success"}),j()):O()("\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07",{icon:"success"})}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(v.jsxs)(u.j,{children:[Object(v.jsxs)(u.n,{children:[0===n?Object(v.jsx)(b.a,{color:"geekblue",style:{fontSize:"18px"},children:"MFG2"}):Object(v.jsxs)(b.a,{color:"geekblue",style:{fontSize:"18px"},children:["Dept: ",a]}),""===t?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)(b.a,{color:"gold",style:{fontSize:"18px"},children:["Date: ",e.date]})]}),Object(v.jsx)(u.k,{children:Object(v.jsx)(h.a,{onChange:function(e){return j(e)},dataSource:p,dataTotal:p.length,rowKey:"EMP_NO",columns:[{title:"Car",dataIndex:"CAR",align:"center",fixed:"left"},{title:"OT Date",dataIndex:"OT_DATE",align:"center",fixed:"left"},{title:"Emp No",dataIndex:"EMP_NO",align:"center",fixed:"left"},{title:"Name",dataIndex:"EMP_NAME",align:"center",width:120},{title:"Dept",dataIndex:"DEPT",align:"center",key:"Dept",filterAble:!0},{title:"Position",dataIndex:"POSOTION",align:"center",filterAble:!0},{title:"Cell",dataIndex:"CELL",align:"center",filterAble:!0},{title:"Start Time",dataIndex:"Start_time",align:"center",filterAble:!0},{title:"End Time",dataIndex:"End_time",align:"center",filterAble:!0},{title:"WT Min",dataIndex:"WT_min",align:"center",filterAble:!0},{title:"OT Min",dataIndex:"OT_min",align:"center",filterAble:!0},{title:"Manage",align:"center",width:100,key:"Emp_no",fixed:"right",render:function(e,t,n){var a=[];return a.push(Object(v.jsx)(l.a,{type:"button",className:" icon-button color-primary",children:Object(v.jsx)(x.a,{icon:m.f,size:"lg"})},"update")),a.push(Object(v.jsx)(l.a,{type:"button",className:" icon-button color-danger",onClick:function(){return w(t)},children:Object(v.jsx)(x.a,{icon:m.h,size:"lg"})},"del")),a}}]})}),Object(v.jsx)(u.l,{children:Object(v.jsx)(u.ub,{children:Object(v.jsxs)(u.u,{children:[Object(v.jsx)(l.a,{className:"btn btn-success",onClick:function(){return g()},children:"Approve"}),"\xa0",Object(v.jsx)(l.a,{className:"btn btn-danger",onClick:function(){return function(){return k.apply(this,arguments)}()},children:"Reject"})]})})})]})}new g.a;function k(){Object(o.useEffect)((function(){}),[]);var e=Object(o.useState)({dept:"",deptN:""}),t=Object(s.a)(e,2),n=t[0],a=t[1],h=Object(o.useState)({data:""}),b=Object(s.a)(h,2),j=b[0],O=b[1],x=Object(o.useState)({dept:{option:[{id:0,name:"-Select-"},{id:1,name:"NKP"},{id:2,name:"PCBA"},{id:3,name:"PMD"},{id:4,name:"IMO"},{id:5,name:"IAD"}],selected:""}}),m=Object(s.a)(x,2),g=m[0],y=m[1];function k(e,t){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"date ot"===t&&O(Object(c.a)(Object(c.a)({},j),{},{data:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(Object(c.a)(Object(c.a)({},n),{},{dept:""===g.dept.selected?"":g.dept.option[g.dept.selected].id,deptN:""===g.dept.selected?"":g.dept.option[g.dept.selected].name}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(Object(c.a)(Object(c.a)({},n),{},{dept:"",deptN:"",date:""})),O(Object(c.a)(Object(c.a)({},j),{},{data:""})),y(Object(c.a)(Object(c.a)({},g),{},{dept:Object(c.a)(Object(c.a)({},g.dept),{},{selected:""})})),k("date ot","");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.j,{children:[Object(v.jsx)(u.n,{children:Object(v.jsx)("h4",{children:"Approve"})}),Object(v.jsxs)(u.k,{children:[Object(v.jsxs)(u.ub,{children:[Object(v.jsx)(u.u,{sm:"1",children:Object(v.jsx)("label",{children:"Date:"})}),Object(v.jsx)(u.u,{sm:"2",children:Object(v.jsx)(p.a,{children:Object(v.jsx)(f.a,{style:{width:"120px"},valueDate:k.bind(this,"date ot")})})}),Object(v.jsx)(u.u,{sm:"1",children:Object(v.jsx)("label",{children:"Dept:"})}),Object(v.jsx)(u.u,{sm:"2",children:Object(v.jsx)(d.a,{style:{width:"120px"},value:""===g.dept.selected?g.dept.option[0].name:g.dept.option[g.dept.selected].name,onChange:function(e){y(Object(c.a)(Object(c.a)({},g),{},{dept:Object(c.a)(Object(c.a)({},g.dept),{},{selected:e})}))},children:g.dept.option.map((function(e){return Object(v.jsx)(d.a.Option,{children:e.name},e.id)}))})}),Object(v.jsx)(u.u,{sm:"2",children:Object(v.jsx)(l.a,{className:"btn btn-primary",style:{width:"120px"},onClick:function(){return S()},children:"Set"})}),Object(v.jsx)(u.u,{sm:"2",children:Object(v.jsx)(l.a,{className:"btn btn-danger",style:{width:"120px"},onClick:function(){return N()},children:"Clear"})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(u.ub,{children:Object(v.jsx)(u.u,{children:""===n.dept?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)(w,{date:j.data,dept:n.dept,deptN:n.deptN})})})]})]})})}},674:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(22),r=n(680),c=n(54),i=n(55),s=n(66),o=n(65),u=n(1),d=n.n(u),l=n(1362),p=n(1361),f=n(17),h=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={pagination:{current:1,pageSize:10},filters:{}},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.pageSize;this.setState((function(t){return t.pagination.pageSize=e||10,{pagination:t.pagination}}))}},{key:"_onChangeTable",value:function(e,t,n){var a=this;this.setState({pagination:e,filters:t},(function(){var e=a.state.filters,t={};a.props.columns.forEach((function(n){void 0!==e[n.dataIndex]&&null!==e[n.dataIndex]&&(n.filterAble&&e[n.dataIndex].length?t[n.dataIndex]=e[n.dataIndex][0]:t[n.dataIndex]=e[n.dataIndex])})),void 0!==a.props.onChange&&a.props.onChange({pagination:a.state.pagination,filters:t,sorter:n})}))}},{key:"_setColumnsProps",value:function(){var e=this,t=this.state,n=t.filters,a=t.pagination,c=this.props,i=c.columns,s=c.showRowNo,o=function(t){i[t].filterAble?i[t]=Object.assign(i[t],{filteredValue:n[i[t].dataIndex],filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,r=t.confirm,c=t.clearFilters;return Object(f.jsxs)("div",{style:{padding:6},children:[Object(f.jsx)(l.a,{ref:function(t){e.searchInput=t},placeholder:"Search",value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return r()},style:{width:"unset",display:"inline-block"}}),Object(f.jsxs)("button",{type:"button",className:"btn btn-primary btn-sm",style:{height:32,marginRight:0,verticalAlign:"top"},onClick:function(){return r()},children:[Object(f.jsx)("i",{className:"fa fa-search","aria-hidden":"true"}),"S"]}),Object(f.jsxs)("button",{type:"button",className:"btn btn-danger btn-sm",style:{height:32,marginRight:0,verticalAlign:"top"},onClick:function(){return c()},children:[Object(f.jsx)("i",{className:"fa fa-undo","aria-hidden":"true"}),"C"]})]})},filterIcon:function(e){return Object(f.jsx)("i",{className:"ant-table-filter-trigger-icon fa fa-search","aria-hidden":"true",style:{color:e?"#1890ff":void 0}})},onFilter:function(e,n){return n[i[t].dataIndex]?n[i[t].dataIndex].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(t){t&&setTimeout((function(){return e.searchInput.select()}),100)}}):void 0!==i[t].filters&&i[t].filters.length&&(i[t]=Object.assign(i[t],{filteredValue:n[i[t].dataIndex]||null,onFilter:function(e,n){if(n[i[t].dataIndex])return n[i[t].dataIndex].includes(e)}}))};for(var u in i)o(u);return s?[{title:"No.",render:function(e,t,n){return(a.current-1)*a.pageSize+n+1},width:48,align:"center",fixed:"left"}].concat(Object(r.a)(i)):i}},{key:"render",value:function(){var e=this,t=this.props.setProps;return Object(f.jsx)("div",{style:{overflow:"auto"},children:Object(f.jsx)(p.a,Object(a.a)({scroll:{x:1300},size:this.props.size||"small",loading:this.props.loading||!1,bordered:this.props.bordered||!0,dataSource:this.props.dataSource||[],pagination:!1!==this.props.pagination&&Object(a.a)(Object(a.a)({},this.state.pagination),{},{total:this.props.dataTotal}),rowKey:function(t){return t[e.props.rowKey]},columns:this._setColumnsProps(),onChange:function(t,n,a){return e._onChangeTable(t,n,a)},style:this.props.style||{minWidth:600}},t))})}}]),n}(d.a.Component)},693:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(19),r=n.n(a),c=n(22),i=n(39),s=(n(1),n(1321)),o=n(17);function u(e){function t(){return(t=Object(i.a)(r.a.mark((function t(n){var a,c,i,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==n?(a=new Date(n._d),c=("0"+a.getDate()).slice(-2),i=("0"+(a.getMonth()+1)).slice(-2),s=a.getFullYear(),o=[s,i,c].join("-"),e.valueDate(o)):(o="",e.valueDate(o));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.jsx)("div",{children:Object(o.jsx)(s.a,Object(c.a)({format:"DD-MMM-Y",showToday:!1,onChange:function(e){return function(e){return t.apply(this,arguments)}(e)}},e))})}},696:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(19),r=n.n(a),c=n(39),i=n(54),s=n(55),o=n(66),u=n(65),d=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getOT",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetOT",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveOT",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"InsertOT",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveOT",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"ApproveOT",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOTHis",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetHisOT",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOTHisDetail",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetDetailOT",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCarPoint",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetCarPointOT",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateOT",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"UpdateOT",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delOT",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"DelOTData",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectOTbyEmp",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"RejectOT",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectOTbyDate",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"RejectOTbyDate",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(n(171).a)},772:function(e,t,n){"use strict";var a=n(13),r=n(32),c=n(1),i=n.n(c),s=n(64),o=n.n(s),u=n(650),d=n.n(u),l=n(655),p={children:o.a.node,row:o.a.bool,check:o.a.bool,inline:o.a.bool,disabled:o.a.bool,tag:l.c,className:o.a.string,cssModule:o.a.object},f=function(e){var t=e.className,n=e.cssModule,c=e.row,s=e.disabled,o=e.check,u=e.inline,p=e.tag,f=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),h=Object(l.b)(d()(t,!!c&&"row",o?"form-check":"form-group",!(!o||!u)&&"form-check-inline",!(!o||!s)&&"disabled"),n);return"fieldset"===p&&(f.disabled=s),i.a.createElement(p,Object(a.a)({},f,{className:h}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f}}]);
//# sourceMappingURL=23.e215737f.chunk.js.map