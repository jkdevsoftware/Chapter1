{"version":3,"sources":["../node_modules/rc-util/es/utils/get.js","../node_modules/rc-util/es/utils/set.js","../node_modules/rc-field-form/es/utils/valueUtil.js","../node_modules/rc-field-form/es/FieldContext.js","../node_modules/rc-field-form/es/FormContext.js","../node_modules/rc-field-form/es/utils/NameMap.js","../node_modules/rc-field-form/es/useForm.js","../node_modules/rc-field-form/es/utils/asyncUtil.js","../node_modules/rc-field-form/es/utils/typeUtil.js","../node_modules/rc-field-form/es/utils/messages.js","../node_modules/rc-field-form/es/Form.js"],"names":["get","entity","path","current","i","length","undefined","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","internalSet","paths","value","removeIfUndefined","clone","_paths","_toArray","restPath","slice","Array","isArray","_toConsumableArray","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectSpread","set","getNamePath","toArray","getValue","store","namePath","setValue","newStore","cloneByNamePathList","namePathList","containsNamePath","some","matchNamePath","isObject","obj","_typeof","getPrototypeOf","prototype","internalSetValues","values","prevValue","recursive","setValues","_len","restValues","_key","reduce","changedNamePath","every","nameUnit","isSimilar","sourceKeys","targetKeys","Set","concat","sourceValue","targetValue","defaultGetValueFromEvent","valuePropName","event","move","array","moveIndex","toIndex","item","diff","HOOK_MARK","warningFunc","warning","Context","React","getFieldValue","getFieldsValue","getFieldError","getFieldsError","isFieldsTouched","isFieldTouched","isFieldValidating","isFieldsValidating","resetFields","setFields","setFieldsValue","validateFields","submit","getInternalHooks","dispatch","initEntityValue","registerField","useSubscribe","setInitialValues","setCallbacks","getFields","setValidateMessages","setPreserve","FormContext","triggerFormChange","triggerFormFinish","registerForm","unregisterForm","FormProvider","_ref","validateMessages","onFormChange","onFormFinish","children","formContext","formsRef","Provider","name","changedFields","forms","form","newForms","SPLIT","normalize","map","cell","join","NameMap","_classCallCheck","this","kvs","Map","_createClass","updater","next","delete","callback","entries","_ref2","_slicedToArray","cells","split","_cell$match","match","_cell$match2","type","unit","Number","json","_ref3","FormStore","forceRootUpdate","_this","formHooked","subscribable","fieldEntities","initialValues","callbacks","preserve","lastValidatePromise","getForm","init","getInitialValue","timeoutId","warningUnhooked","process","getFieldEntities","pure","field","getFieldsMap","cache","getFieldEntitiesForNamePathList","nameList","INVALIDATE_NAME_PATH","filterFunc","filteredNameList","_entity$isListField","isListField","call","meta","getMeta","index","errors","getErrors","args","arg0","arg1","isAllFieldsTouched","shortNamePath","fieldNamePath","update","list","isNamePathListTouched","entities","namePathListEntities","testField","resetWithFieldInitialValue","info","initialValue","props","records","add","requiredFieldEntities","resetWithFields","size","originValue","skipExist","_requiredFieldEntitie","r","prevStore","notifyObservers","fields","fieldData","data","_objectWithoutProperties","subNamePath","mergedPreserve","defaultValue","action","updateValue","_namePath","triggerName","mergedInfo","onStoreChange","childrenFields","getDependencyChildrenFields","relatedFields","onValuesChange","triggerOnFieldsChange","rootNamePath","dependencies2fields","dependencies","dependency","dependencyNamePath","fillChildren","has","isFieldDirty","filedErrors","onFieldsChange","_ref4","fieldName","options","provideNameList","promiseList","rules","promise","validateRules","defaultValidateMessages","then","catch","Promise","reject","summaryPromise","hasError","count","results","resolve","e","result","allPromiseFinish","resultNamePathList","_ref5","returnPromise","errorList","errorFields","outOfDate","onFinish","err","console","error","onFinishFailed","useForm","formRef","_React$useState","forceUpdate","formStore","typeTemplate","default","required","enum","whitespace","date","format","parse","invalid","types","string","method","number","boolean","integer","float","regexp","email","url","hex","len","min","max","range","pattern","mismatch","Form","ref","_ref$component","component","Component","_ref$validateTrigger","validateTrigger","_onFieldsChange","_onFinish","restProps","_useForm","formInstance","_formInstance$getInte","rest","mountRef","childrenNode","childrenRenderProps","prevFieldsRef","formContextValue","wrapperNode","FieldContext","_extends","onSubmit","preventDefault","stopPropagation","onReset","_restProps$onReset"],"mappings":"+hBAAe,SAASA,EAAIC,EAAQC,GAGlC,IAFA,IAAIC,EAAUF,EAELG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,GAAK,EAAG,CACvC,GAAgB,OAAZD,QAAgCG,IAAZH,EACtB,OAGFA,EAAUA,EAAQD,EAAKE,IAGzB,OAAOD,E,sBCPT,SAASI,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAKQ,KAAKC,MAAMT,EAAMG,GAAY,OAAOH,EAM9U,SAASU,EAAYnB,EAAQoB,EAAOC,EAAOC,GACzC,IAAKF,EAAMhB,OACT,OAAOiB,EAGT,IAIIE,EAJAC,EAASC,YAASL,GAClBnB,EAAOuB,EAAO,GACdE,EAAWF,EAAOG,MAAM,GAmB5B,OAZEJ,EAHGvB,GAA0B,kBAATC,EAEX2B,MAAMC,QAAQ7B,GACf8B,YAAmB9B,GAlB/B,SAAuB+B,GAAU,IAAK,IAAI5B,EAAI,EAAGA,EAAI6B,UAAU5B,OAAQD,IAAK,CAAE,IAAI8B,EAAyB,MAAhBD,UAAU7B,GAAa6B,UAAU7B,GAAK,GAAQA,EAAI,EAAKG,EAAQI,OAAOuB,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,YAAgBL,EAAQI,EAAKF,EAAOE,OAAsBzB,OAAO2B,0BAA6B3B,OAAO4B,iBAAiBP,EAAQrB,OAAO2B,0BAA0BJ,IAAmB3B,EAAQI,OAAOuB,IAASC,SAAQ,SAAUC,GAAOzB,OAAO6B,eAAeR,EAAQI,EAAKzB,OAAOK,yBAAyBkB,EAAQE,OAAe,OAAOJ,EAoBjgBS,CAAc,GAAIxC,GAJlB,GAQNsB,QAA+BjB,IAAVgB,GAA2C,IAApBK,EAAStB,cAChDmB,EAAMtB,GAAMyB,EAAS,IAE5BH,EAAMtB,GAAQkB,EAAYI,EAAMtB,GAAOyB,EAAUL,EAAOC,GAGnDC,EAGM,SAASkB,EAAIzC,EAAQoB,EAAOC,GACzC,IAAIC,EAAoBU,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,IAAmBA,UAAU,GAGvF,OAAIZ,EAAMhB,QAAUkB,QAA+BjB,IAAVgB,IAAwBtB,EAAIC,EAAQoB,EAAMO,MAAM,GAAI,IACpF3B,EAGFmB,EAAYnB,EAAQoB,EAAOC,EAAOC,G,aCjCpC,SAASoB,EAAYzC,GAC1B,OAAO0C,YAAQ1C,GAEV,SAAS2C,EAASC,EAAOC,GAE9B,OADY/C,EAAI8C,EAAOC,GAGlB,SAASC,EAASF,EAAOC,EAAUzB,GACxC,IAAIC,EAAoBU,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,IAAmBA,UAAU,GACnFgB,EAAWP,EAAII,EAAOC,EAAUzB,EAAOC,GAC3C,OAAO0B,EAEF,SAASC,EAAoBJ,EAAOK,GACzC,IAAIF,EAAW,GAKf,OAJAE,EAAahB,SAAQ,SAAUY,GAC7B,IAAIzB,EAAQuB,EAASC,EAAOC,GAC5BE,EAAWD,EAASC,EAAUF,EAAUzB,MAEnC2B,EAEF,SAASG,EAAiBD,EAAcJ,GAC7C,OAAOI,GAAgBA,EAAaE,MAAK,SAAUnD,GACjD,OAAOoD,EAAcpD,EAAM6C,MAI/B,SAASQ,EAASC,GAChB,MAAwB,WAAjBC,YAAQD,IAA6B,OAARA,GAAgB7C,OAAO+C,eAAeF,KAAS7C,OAAOgD,UAQ5F,SAASC,EAAkBd,EAAOe,GAChC,IAAIZ,EAAWpB,MAAMC,QAAQgB,GAASf,YAAmBe,GAASL,YAAc,GAAIK,GAEpF,OAAKe,GAILlD,OAAOD,KAAKmD,GAAQ1B,SAAQ,SAAUC,GACpC,IAAI0B,EAAYb,EAASb,GACrBd,EAAQuC,EAAOzB,GAEf2B,EAAYR,EAASO,IAAcP,EAASjC,GAChD2B,EAASb,GAAO2B,EAAYH,EAAkBE,EAAWxC,GAAS,IAAMA,KAEnE2B,GAVEA,EAaJ,SAASe,EAAUlB,GACxB,IAAK,IAAImB,EAAOhC,UAAU5B,OAAQ6D,EAAa,IAAIrC,MAAMoC,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IACxGD,EAAWC,EAAO,GAAKlC,UAAUkC,GAGnC,OAAOD,EAAWE,QAAO,SAAUjE,EAAS8C,GAC1C,OAAOW,EAAkBzD,EAAS8C,KACjCH,GAEE,SAASQ,EAAcP,EAAUsB,GACtC,SAAKtB,IAAasB,GAAmBtB,EAAS1C,SAAWgE,EAAgBhE,SAIlE0C,EAASuB,OAAM,SAAUC,EAAUnE,GACxC,OAAOiE,EAAgBjE,KAAOmE,KAG3B,SAASC,EAAUtC,EAAQF,GAChC,GAAIE,IAAWF,EACb,OAAO,EAGT,IAAKE,GAAUF,GAAUE,IAAWF,EAClC,OAAO,EAGT,IAAKE,IAAWF,GAA8B,WAApByB,YAAQvB,IAA4C,WAApBuB,YAAQzB,GAChE,OAAO,EAGT,IAAIyC,EAAa9D,OAAOD,KAAKwB,GACzBwC,EAAa/D,OAAOD,KAAKsB,GACzBtB,EAAO,IAAIiE,IAAI,GAAGC,OAAO7C,YAAmB0C,GAAa1C,YAAmB2C,KAChF,OAAO3C,YAAmBrB,GAAM4D,OAAM,SAAUlC,GAC9C,IAAIyC,EAAc3C,EAAOE,GACrB0C,EAAc9C,EAAOI,GAEzB,MAA2B,oBAAhByC,GAAqD,oBAAhBC,GAIzCD,IAAgBC,KAGpB,SAASC,EAAyBC,GACvC,IAAIC,EAAQhD,UAAU5B,QAAU,OAAIC,EAAY2B,UAAU,GAE1D,OAAIgD,GAASA,EAAMjD,QAAUgD,KAAiBC,EAAMjD,OAC3CiD,EAAMjD,OAAOgD,GAGfC,EAaF,SAASC,EAAKC,EAAOC,EAAWC,GACrC,IAAIhF,EAAS8E,EAAM9E,OAEnB,GAAI+E,EAAY,GAAKA,GAAa/E,GAAUgF,EAAU,GAAKA,GAAWhF,EACpE,OAAO8E,EAGT,IAAIG,EAAOH,EAAMC,GACbG,EAAOH,EAAYC,EAEvB,OAAIE,EAAO,EAEF,GAAGX,OAAO7C,YAAmBoD,EAAMvD,MAAM,EAAGyD,IAAW,CAACC,GAAOvD,YAAmBoD,EAAMvD,MAAMyD,EAASD,IAAarD,YAAmBoD,EAAMvD,MAAMwD,EAAY,EAAG/E,KAGvKkF,EAAO,EAEF,GAAGX,OAAO7C,YAAmBoD,EAAMvD,MAAM,EAAGwD,IAAarD,YAAmBoD,EAAMvD,MAAMwD,EAAY,EAAGC,EAAU,IAAK,CAACC,GAAOvD,YAAmBoD,EAAMvD,MAAMyD,EAAU,EAAGhF,KAG5K8E,I,iCCvJT,sDAEWK,EAAY,yBAEnBC,EAAc,WAChBC,aAAQ,EAAO,0EAGbC,EAAuBC,gBAAoB,CAC7CC,cAAeJ,EACfK,eAAgBL,EAChBM,cAAeN,EACfO,eAAgBP,EAChBQ,gBAAiBR,EACjBS,eAAgBT,EAChBU,kBAAmBV,EACnBW,mBAAoBX,EACpBY,YAAaZ,EACba,UAAWb,EACXc,eAAgBd,EAChBe,eAAgBf,EAChBgB,OAAQhB,EACRiB,iBAAkB,WAEhB,OADAjB,IACO,CACLkB,SAAUlB,EACVmB,gBAAiBnB,EACjBoB,cAAepB,EACfqB,aAAcrB,EACdsB,iBAAkBtB,EAClBuB,aAAcvB,EACdwB,UAAWxB,EACXyB,oBAAqBzB,EACrB0B,YAAa1B,MAIJE,O,iCCrCf,+DAGIyB,EAA2BxB,gBAAoB,CACjDyB,kBAAmB,aACnBC,kBAAmB,aACnBC,aAAc,aACdC,eAAgB,eAGdC,EAAe,SAAsBC,GACvC,IAAIC,EAAmBD,EAAKC,iBACxBC,EAAeF,EAAKE,aACpBC,EAAeH,EAAKG,aACpBC,EAAWJ,EAAKI,SAChBC,EAAcnC,aAAiBwB,GAC/BY,EAAWpC,SAAa,IAC5B,OAAoBA,gBAAoBwB,EAAYa,SAAU,CAC5D3G,MAAOmB,YAAcA,YAAc,GAAIsF,GAAc,GAAI,CACvDJ,iBAAkBlF,YAAcA,YAAc,GAAIsF,EAAYJ,kBAAmBA,GAIjFN,kBAAmB,SAA2Ba,EAAMC,GAC9CP,GACFA,EAAaM,EAAM,CACjBC,cAAeA,EACfC,MAAOJ,EAAS7H,UAIpB4H,EAAYV,kBAAkBa,EAAMC,IAEtCb,kBAAmB,SAA2BY,EAAMrE,GAC9CgE,GACFA,EAAaK,EAAM,CACjBrE,OAAQA,EACRuE,MAAOJ,EAAS7H,UAIpB4H,EAAYT,kBAAkBY,EAAMrE,IAEtC0D,aAAc,SAAsBW,EAAMG,GACpCH,IACFF,EAAS7H,QAAUsC,YAAcA,YAAc,GAAIuF,EAAS7H,SAAU,GAAIkC,YAAgB,GAAI6F,EAAMG,KAGtGN,EAAYR,aAAaW,EAAMG,IAEjCb,eAAgB,SAAwBU,GACtC,IAAII,EAAW7F,YAAc,GAAIuF,EAAS7H,gBAEnCmI,EAASJ,GAChBF,EAAS7H,QAAUmI,EACnBP,EAAYP,eAAeU,OAG9BJ,IAIUV,O,iICzDXmB,EAAQ,mBAKZ,SAASC,EAAUzF,GACjB,OAAOA,EAAS0F,KAAI,SAAUC,GAC5B,MAAO,GAAG9D,OAAOnB,YAAQiF,GAAO,KAAK9D,OAAO8D,MAE7CC,KAAKJ,GAOR,IA0EeK,EA1EY,WACzB,SAASA,IACPC,YAAgBC,KAAMF,GAEtBE,KAAKC,IAAM,IAAIC,IAmEjB,OAhEAC,YAAaL,EAAS,CAAC,CACrBxG,IAAK,MACLd,MAAO,SAAac,EAAKd,GACvBwH,KAAKC,IAAIrG,IAAI8F,EAAUpG,GAAMd,KAE9B,CACDc,IAAK,MACLd,MAAO,SAAac,GAClB,OAAO0G,KAAKC,IAAI/I,IAAIwI,EAAUpG,MAE/B,CACDA,IAAK,SACLd,MAAO,SAAgBc,EAAK8G,GAC1B,IACIC,EAAOD,EADEJ,KAAK9I,IAAIoC,IAGjB+G,EAGHL,KAAKpG,IAAIN,EAAK+G,GAFdL,KAAKM,OAAOhH,KAKf,CACDA,IAAK,SACLd,MAAO,SAAiBc,GACtB0G,KAAKC,IAAIK,OAAOZ,EAAUpG,MAG3B,CACDA,IAAK,MACLd,MAAO,SAAa+H,GAClB,OAAOtH,YAAmB+G,KAAKC,IAAIO,WAAWb,KAAI,SAAUf,GAC1D,IAAI6B,EAAQC,YAAe9B,EAAM,GAC7BtF,EAAMmH,EAAM,GACZjI,EAAQiI,EAAM,GAEdE,EAAQrH,EAAIsH,MAAMnB,GACtB,OAAOc,EAAS,CACdjH,IAAKqH,EAAMhB,KAAI,SAAUC,GACvB,IAAIiB,EAAcjB,EAAKkB,MAAM,kBACzBC,EAAeL,YAAeG,EAAa,GAC3CG,EAAOD,EAAa,GACpBE,EAAOF,EAAa,GAExB,MAAgB,WAATC,EAAoBE,OAAOD,GAAQA,KAE5CzI,MAAOA,SAIZ,CACDc,IAAK,SACLd,MAAO,WACL,IAAI2I,EAAO,GAOX,OANAnB,KAAKL,KAAI,SAAUyB,GACjB,IAAI9H,EAAM8H,EAAM9H,IACZd,EAAQ4I,EAAM5I,MAElB,OADA2I,EAAK7H,EAAIuG,KAAK,MAAQrH,EACf,QAEF2I,MAIJrB,EAvEkB,G,kBCThBuB,EAAY,SAASA,EAAUC,GACxC,IAAIC,EAAQvB,KAEZD,YAAgBC,KAAMqB,GAEtBrB,KAAKwB,YAAa,EAClBxB,KAAKyB,cAAe,EACpBzB,KAAKhG,MAAQ,GACbgG,KAAK0B,cAAgB,GACrB1B,KAAK2B,cAAgB,GACrB3B,KAAK4B,UAAY,GACjB5B,KAAKnB,iBAAmB,KACxBmB,KAAK6B,SAAW,KAChB7B,KAAK8B,oBAAsB,KAE3B9B,KAAK+B,QAAU,WACb,MAAO,CACLhF,cAAewE,EAAMxE,cACrBC,eAAgBuE,EAAMvE,eACtBC,cAAesE,EAAMtE,cACrBC,eAAgBqE,EAAMrE,eACtBC,gBAAiBoE,EAAMpE,gBACvBC,eAAgBmE,EAAMnE,eACtBC,kBAAmBkE,EAAMlE,kBACzBC,mBAAoBiE,EAAMjE,mBAC1BC,YAAagE,EAAMhE,YACnBC,UAAW+D,EAAM/D,UACjBC,eAAgB8D,EAAM9D,eACtBC,eAAgB6D,EAAM7D,eACtBC,OAAQ4D,EAAM5D,OACdC,iBAAkB2D,EAAM3D,mBAK5BoC,KAAKpC,iBAAmB,SAAUtE,GAChC,OAAIA,IAAQoD,KACV6E,EAAMC,YAAa,EACZ,CACL3D,SAAU0D,EAAM1D,SAChBC,gBAAiByD,EAAMzD,gBACvBC,cAAewD,EAAMxD,cACrBC,aAAcuD,EAAMvD,aACpBC,iBAAkBsD,EAAMtD,iBACxBC,aAAcqD,EAAMrD,aACpBE,oBAAqBmD,EAAMnD,oBAC3BD,UAAWoD,EAAMpD,UACjBE,YAAakD,EAAMlD,eAIvBzB,aAAQ,EAAO,mEACR,OAGToD,KAAKhC,aAAe,SAAUyD,GAC5BF,EAAME,aAAeA,GAOvBzB,KAAK/B,iBAAmB,SAAU0D,EAAeK,GAC/CT,EAAMI,cAAgBA,GAAiB,GAEnCK,IACFT,EAAMvH,MAAQkB,YAAU,GAAIyG,EAAeJ,EAAMvH,SAIrDgG,KAAKiC,gBAAkB,SAAUhI,GAC/B,OAAOF,YAASwH,EAAMI,cAAe1H,IAGvC+F,KAAK9B,aAAe,SAAU0D,GAC5BL,EAAMK,UAAYA,GAGpB5B,KAAK5B,oBAAsB,SAAUS,GACnC0C,EAAM1C,iBAAmBA,GAG3BmB,KAAK3B,YAAc,SAAUwD,GAC3BN,EAAMM,SAAWA,GAInB7B,KAAKkC,UAAY,KAEjBlC,KAAKmC,gBAAkB,WACjBC,GAiBNpC,KAAKqC,iBAAmB,WACtB,IAAIC,EAAOnJ,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,IAAmBA,UAAU,GAE1E,OAAKmJ,EAIEf,EAAMG,cAAc1J,QAAO,SAAUuK,GAC1C,OAAOA,EAAM1I,cAActC,UAJpBgK,EAAMG,eAQjB1B,KAAKwC,aAAe,WAClB,IAAIF,EAAOnJ,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,IAAmBA,UAAU,GACtEsJ,EAAQ,IAAI3C,EAOhB,OALAyB,EAAMc,iBAAiBC,GAAMjJ,SAAQ,SAAUkJ,GAC7C,IAAItI,EAAWsI,EAAM1I,cACrB4I,EAAM7I,IAAIK,EAAUsI,MAGfE,GAGTzC,KAAK0C,gCAAkC,SAAUC,GAC/C,IAAKA,EACH,OAAOpB,EAAMc,kBAAiB,GAGhC,IAAII,EAAQlB,EAAMiB,cAAa,GAE/B,OAAOG,EAAShD,KAAI,SAAUP,GAC5B,IAAInF,EAAWJ,YAAYuF,GAC3B,OAAOqD,EAAMvL,IAAI+C,IAAa,CAC5B2I,qBAAsB/I,YAAYuF,QAKxCY,KAAKhD,eAAiB,SAAU2F,EAAUE,GAGxC,GAFAtB,EAAMY,mBAEW,IAAbQ,IAAsBE,EACxB,OAAOtB,EAAMvH,MAGf,IAAI0H,EAAgBH,EAAMmB,gCAAgC3J,MAAMC,QAAQ2J,GAAYA,EAAW,MAE3FG,EAAmB,GAqBvB,OApBApB,EAAcrI,SAAQ,SAAUlC,GAC9B,IAAI4L,EAEA9I,EAAW,yBAA0B9C,EAASA,EAAOyL,qBAAuBzL,EAAO0C,cAGvF,GAAK8I,KAA4D,QAA9CI,EAAsB5L,EAAO6L,mBAAiD,IAAxBD,OAAiC,EAASA,EAAoBE,KAAK9L,IAI5I,GAAK0L,EAEE,CACL,IAAIK,EAAO,YAAa/L,EAASA,EAAOgM,UAAY,KAEhDN,EAAWK,IACbJ,EAAiB1K,KAAK6B,QALxB6I,EAAiB1K,KAAK6B,MASnBG,YAAoBmH,EAAMvH,MAAO8I,EAAiBnD,IAAI9F,OAG/DmG,KAAKjD,cAAgB,SAAUqC,GAC7BmC,EAAMY,kBAEN,IAAIlI,EAAWJ,YAAYuF,GAC3B,OAAOrF,YAASwH,EAAMvH,MAAOC,IAG/B+F,KAAK9C,eAAiB,SAAUyF,GAK9B,OAJApB,EAAMY,kBAEcZ,EAAMmB,gCAAgCC,GAErChD,KAAI,SAAUxI,EAAQiM,GACzC,OAAIjM,KAAY,yBAA0BA,GACjC,CACLiI,KAAMjI,EAAO0C,cACbwJ,OAAQlM,EAAOmM,aAIZ,CACLlE,KAAMvF,YAAY8I,EAASS,IAC3BC,OAAQ,QAKdrD,KAAK/C,cAAgB,SAAUmC,GAC7BmC,EAAMY,kBAEN,IAAIlI,EAAWJ,YAAYuF,GAI3B,OAFiBmC,EAAMrE,eAAe,CAACjD,IAAW,GAEhCoJ,QAGpBrD,KAAK7C,gBAAkB,WACrBoE,EAAMY,kBAEN,IAAK,IAAIhH,EAAOhC,UAAU5B,OAAQgM,EAAO,IAAIxK,MAAMoC,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC/EkI,EAAKlI,GAAQlC,UAAUkC,GAGzB,IAEIhB,EAFAmJ,EAAOD,EAAK,GACZE,EAAOF,EAAK,GAEZG,GAAqB,EAEL,IAAhBH,EAAKhM,OACP8C,EAAe,KACU,IAAhBkJ,EAAKhM,OACVwB,MAAMC,QAAQwK,IAChBnJ,EAAemJ,EAAK7D,IAAI9F,KACxB6J,GAAqB,IAErBrJ,EAAe,KACfqJ,EAAqBF,IAGvBnJ,EAAemJ,EAAK7D,IAAI9F,KACxB6J,EAAqBD,GAGvB,IAAI/B,EAAgBH,EAAMc,kBAAiB,GAEvCjF,EAAiB,SAAwBmF,GAC3C,OAAOA,EAAMnF,kBAIf,IAAK/C,EACH,OAAOqJ,EAAqBhC,EAAclG,MAAM4B,GAAkBsE,EAAcnH,KAAK6C,GAIvF,IAAIuC,EAAM,IAAIG,EACdzF,EAAahB,SAAQ,SAAUsK,GAC7BhE,EAAI/F,IAAI+J,EAAe,OAEzBjC,EAAcrI,SAAQ,SAAUkJ,GAC9B,IAAIqB,EAAgBrB,EAAM1I,cAE1BQ,EAAahB,SAAQ,SAAUsK,GACzBA,EAAcnI,OAAM,SAAUC,EAAUnE,GAC1C,OAAOsM,EAActM,KAAOmE,MAE5BkE,EAAIkE,OAAOF,GAAe,SAAUG,GAClC,MAAO,GAAGhI,OAAO7C,YAAmB6K,GAAO,CAACvB,aAMpD,IAAIwB,EAAwB,SAA+BC,GACzD,OAAOA,EAASzJ,KAAK6C,IAGnB6G,EAAuBtE,EAAIA,KAAI,SAAUf,GAE3C,OADYA,EAAKpG,SAGnB,OAAOkL,EAAqBO,EAAqBzI,MAAMuI,GAAyBE,EAAqB1J,KAAKwJ,IAG5G/D,KAAK5C,eAAiB,SAAUgC,GAG9B,OAFAmC,EAAMY,kBAECZ,EAAMpE,gBAAgB,CAACiC,KAGhCY,KAAK1C,mBAAqB,SAAUqF,GAClCpB,EAAMY,kBAEN,IAAIT,EAAgBH,EAAMc,mBAE1B,IAAKM,EACH,OAAOjB,EAAcnH,MAAK,SAAU2J,GAClC,OAAOA,EAAU7G,uBAIrB,IAAIhD,EAAesI,EAAShD,IAAI9F,KAChC,OAAO6H,EAAcnH,MAAK,SAAU2J,GAClC,IAAIN,EAAgBM,EAAUrK,cAC9B,OAAOS,YAAiBD,EAAcuJ,IAAkBM,EAAU7G,wBAItE2C,KAAK3C,kBAAoB,SAAU+B,GAGjC,OAFAmC,EAAMY,kBAECZ,EAAMjE,mBAAmB,CAAC8B,KAQnCY,KAAKmE,2BAA6B,WAChC,IAAIC,EAAOjL,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,GAAmBA,UAAU,GAAK,GAE3EsJ,EAAQ,IAAI3C,EAEZ4B,EAAgBH,EAAMc,kBAAiB,GAE3CX,EAAcrI,SAAQ,SAAUkJ,GAC9B,IAAI8B,EAAe9B,EAAM+B,MAAMD,aAC3BpK,EAAWsI,EAAM1I,cAErB,QAAqBrC,IAAjB6M,EAA4B,CAC9B,IAAIE,EAAU9B,EAAMvL,IAAI+C,IAAa,IAAI4B,IACzC0I,EAAQC,IAAI,CACVrN,OAAQoL,EACR/J,MAAO6L,IAET5B,EAAM7I,IAAIK,EAAUsK,OAIxB,IA+BIE,EA/BAC,EAAkB,SAAyBV,GAC7CA,EAAS3K,SAAQ,SAAUkJ,GAGzB,QAAqB/K,IAFF+K,EAAM+B,MAAMD,aAEC,CAC9B,IAAIpK,EAAWsI,EAAM1I,cAIrB,QAAyBrC,IAFF+J,EAAMU,gBAAgBhI,GAI3C2C,aAAQ,EAAO,+CAA+Cd,OAAO7B,EAAS4F,KAAK,KAAM,uCACpF,CACL,IAAI0E,EAAU9B,EAAMvL,IAAI+C,GAExB,GAAIsK,GAAWA,EAAQI,KAAO,EAE5B/H,aAAQ,EAAO,6BAA6Bd,OAAO7B,EAAS4F,KAAK,KAAM,iEAClE,GAAI0E,EAAS,CAClB,IAAIK,EAAcrD,EAAMxE,cAAc9C,GAGjCmK,EAAKS,gBAA6BrN,IAAhBoN,IACrBrD,EAAMvH,MAAQE,YAASqH,EAAMvH,MAAOC,EAAUhB,YAAmBsL,GAAS,GAAG/L,eAUrF4L,EAAKJ,SACPS,EAAwBL,EAAKJ,SACpBI,EAAK/J,cACdoK,EAAwB,GACxBL,EAAK/J,aAAahB,SAAQ,SAAUY,GAClC,IAGM6K,EAHFP,EAAU9B,EAAMvL,IAAI+C,GAEpBsK,IAGDO,EAAwBL,GAAuBrM,KAAKC,MAAMyM,EAAuB7L,YAAmBA,YAAmBsL,GAAS5E,KAAI,SAAUoF,GAC7I,OAAOA,EAAE5N,gBAKfsN,EAAwB/C,EAG1BgD,EAAgBD,IAGlBzE,KAAKzC,YAAc,SAAUoF,GAC3BpB,EAAMY,kBAEN,IAAI6C,EAAYzD,EAAMvH,MAEtB,IAAK2I,EASH,OARApB,EAAMvH,MAAQkB,YAAU,GAAIqG,EAAMI,eAElCJ,EAAM4C,kCAEN5C,EAAM0D,gBAAgBD,EAAW,KAAM,CACrChE,KAAM,UAOV,IAAI3G,EAAesI,EAAShD,IAAI9F,KAChCQ,EAAahB,SAAQ,SAAUY,GAC7B,IAAIoK,EAAe9C,EAAMU,gBAAgBhI,GAEzCsH,EAAMvH,MAAQE,YAASqH,EAAMvH,MAAOC,EAAUoK,MAGhD9C,EAAM4C,2BAA2B,CAC/B9J,aAAcA,IAGhBkH,EAAM0D,gBAAgBD,EAAW3K,EAAc,CAC7C2G,KAAM,WAIVhB,KAAKxC,UAAY,SAAU0H,GACzB3D,EAAMY,kBAEN,IAAI6C,EAAYzD,EAAMvH,MACtBkL,EAAO7L,SAAQ,SAAU8L,GACvB,IAAI/F,EAAO+F,EAAU/F,KAEjBgG,GADSD,EAAU9B,OACZgC,YAAyBF,EAAW,CAAC,OAAQ,YAEpDlL,EAAWJ,YAAYuF,GAEvB,UAAWgG,IACb7D,EAAMvH,MAAQE,YAASqH,EAAMvH,MAAOC,EAAUmL,EAAK5M,QAGrD+I,EAAM0D,gBAAgBD,EAAW,CAAC/K,GAAW,CAC3C+G,KAAM,WACNoE,KAAMD,QAKZnF,KAAK7B,UAAY,WAiBf,OAhBeoD,EAAMc,kBAAiB,GAEhB1C,KAAI,SAAU4C,GAClC,IAAItI,EAAWsI,EAAM1I,cACjBqJ,EAAOX,EAAMY,UAEbgC,EAAYxL,YAAcA,YAAc,GAAIuJ,GAAO,GAAI,CACzD9D,KAAMnF,EACNzB,MAAO+I,EAAMxE,cAAc9C,KAM7B,OAHApC,OAAO6B,eAAeyL,EAAW,gBAAiB,CAChD3M,OAAO,IAEF2M,MAUXnF,KAAKlC,gBAAkB,SAAU3G,GAC/B,IAAIkN,EAAelN,EAAOmN,MAAMD,aAEhC,QAAqB7M,IAAjB6M,EAA4B,CAC9B,IAAIpK,EAAW9C,EAAO0C,mBAGJrC,IAFFuC,YAASwH,EAAMvH,MAAOC,KAGpCsH,EAAMvH,MAAQE,YAASqH,EAAMvH,MAAOC,EAAUoK,MAKpDrE,KAAKjC,cAAgB,SAAU5G,GAI7B,GAHAoK,EAAMG,cAActJ,KAAKjB,QAGSK,IAA9BL,EAAOmN,MAAMD,aAA4B,CAC3C,IAAIW,EAAYzD,EAAMvH,MAEtBuH,EAAM4C,2BAA2B,CAC/BH,SAAU,CAAC7M,GACX0N,WAAW,IAGbtD,EAAM0D,gBAAgBD,EAAW,CAAC7N,EAAO0C,eAAgB,CACvDmH,KAAM,cACN5H,OAAQ,aAKZ,OAAO,SAAU4J,EAAanB,GAC5B,IAAIyD,EAAcnM,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,GAAmBA,UAAU,GAAK,GACtFoI,EAAMG,cAAgBH,EAAMG,cAAc1J,QAAO,SAAUwE,GACzD,OAAOA,IAASrF,KAGlB,IAAIoO,OAA8B/N,IAAbqK,EAAyBA,EAAWN,EAAMM,SAE/D,IAAuB,IAAnB0D,KAA8BvC,GAAesC,EAAY/N,OAAS,GAAI,CACxE,IAAI0C,EAAW9C,EAAO0C,cAClB2L,EAAexC,OAAcxL,EAAYuC,YAASwH,EAAMI,cAAe1H,GAEvEA,EAAS1C,QAAUgK,EAAMxE,cAAc9C,KAAcuL,GAAgBjE,EAAMG,cAAclG,OAAM,SAAU+G,GAC3G,OACG/H,YAAc+H,EAAM1I,cAAeI,QAGtCsH,EAAMvH,MAAQE,YAASqH,EAAMvH,MAAOC,EAAUuL,GAAc,OAMpExF,KAAKnC,SAAW,SAAU4H,GACxB,OAAQA,EAAOzE,MACb,IAAK,cAED,IAAI/G,EAAWwL,EAAOxL,SAClBzB,EAAQiN,EAAOjN,MAEnB+I,EAAMmE,YAAYzL,EAAUzB,GAE5B,MAGJ,IAAK,gBAED,IAAImN,EAAYF,EAAOxL,SACnB2L,EAAcH,EAAOG,YAEzBrE,EAAM7D,eAAe,CAACiI,GAAY,CAChCC,YAAaA,MAWvB5F,KAAKiF,gBAAkB,SAAUD,EAAW3K,EAAc+J,GACxD,GAAI7C,EAAME,aAAc,CACtB,IAAIoE,EAAalM,YAAcA,YAAc,GAAIyK,GAAO,GAAI,CAC1DpK,MAAOuH,EAAMvE,gBAAe,KAG9BuE,EAAMc,mBAAmBhJ,SAAQ,SAAUoH,IAEzCqF,EADoBrF,EAAMqF,eACZd,EAAW3K,EAAcwL,WAGzCtE,EAAMD,mBAIVtB,KAAK0F,YAAc,SAAUtG,EAAM5G,GACjC,IAAIyB,EAAWJ,YAAYuF,GACvB4F,EAAYzD,EAAMvH,MACtBuH,EAAMvH,MAAQE,YAASqH,EAAMvH,MAAOC,EAAUzB,GAE9C+I,EAAM0D,gBAAgBD,EAAW,CAAC/K,GAAW,CAC3C+G,KAAM,cACN5H,OAAQ,aAKV,IAAI2M,EAAiBxE,EAAMyE,4BAA4B/L,GAEnD8L,EAAexO,QACjBgK,EAAM7D,eAAeqI,GAGvBxE,EAAM0D,gBAAgBD,EAAWe,EAAgB,CAC/C/E,KAAM,qBACNiF,cAAe,CAAChM,GAAU6B,OAAO7C,YAAmB8M,MAItD,IAAIG,EAAiB3E,EAAMK,UAAUsE,eAEjCA,GAEFA,EADoB9L,YAAoBmH,EAAMvH,MAAO,CAACC,IACxBsH,EAAMvE,kBAGtCuE,EAAM4E,sBAAsB,CAAClM,GAAU6B,OAAO7C,YAAmB8M,MAInE/F,KAAKvC,eAAiB,SAAUzD,GAC9BuH,EAAMY,kBAEN,IAAI6C,EAAYzD,EAAMvH,MAElBA,IACFuH,EAAMvH,MAAQkB,YAAUqG,EAAMvH,MAAOA,IAGvCuH,EAAM0D,gBAAgBD,EAAW,KAAM,CACrChE,KAAM,cACN5H,OAAQ,cAIZ4G,KAAKgG,4BAA8B,SAAUI,GAC3C,IAAIpH,EAAW,IAAInD,IACfkK,EAAiB,GACjBM,EAAsB,IAAIvG,EAM9ByB,EAAMc,mBAAmBhJ,SAAQ,SAAUkJ,IACtBA,EAAM+B,MAAMgC,cACd,IAAIjN,SAAQ,SAAUkN,GACrC,IAAIC,EAAqB3M,YAAY0M,GACrCF,EAAoBxC,OAAO2C,GAAoB,WAC7C,IAAItB,EAAS/L,UAAU5B,OAAS,QAAsBC,IAAjB2B,UAAU,GAAmBA,UAAU,GAAK,IAAI0C,IAErF,OADAqJ,EAAOV,IAAIjC,GACJ2C,WAqBb,OAhBmB,SAASuB,EAAaxM,IAC1BoM,EAAoBnP,IAAI+C,IAAa,IAAI4B,KAC/CxC,SAAQ,SAAUkJ,GACvB,IAAKvD,EAAS0H,IAAInE,GAAQ,CACxBvD,EAASwF,IAAIjC,GACb,IAAIqB,EAAgBrB,EAAM1I,cAEtB0I,EAAMoE,gBAAkB/C,EAAcrM,SACxCwO,EAAe3N,KAAKwL,GACpB6C,EAAa7C,QAMrB6C,CAAaL,GACNL,GAGT/F,KAAKmG,sBAAwB,SAAU9L,EAAcuM,GACnD,IAAIC,EAAiBtF,EAAMK,UAAUiF,eAErC,GAAIA,EAAgB,CAClB,IAAI3B,EAAS3D,EAAMpD,YAMnB,GAAIyI,EAAa,CACf,IAAInE,EAAQ,IAAI3C,EAChB8G,EAAYvN,SAAQ,SAAU+H,GAC5B,IAAIhC,EAAOgC,EAAMhC,KACbiE,EAASjC,EAAMiC,OACnBZ,EAAM7I,IAAIwF,EAAMiE,MAElB6B,EAAO7L,SAAQ,SAAUkJ,GAEvBA,EAAMc,OAASZ,EAAMvL,IAAIqL,EAAMnD,OAASmD,EAAMc,UAQlDwD,EAJoB3B,EAAOlN,QAAO,SAAU8O,GAC1C,IAAIC,EAAYD,EAAM1H,KACtB,OAAO9E,YAAiBD,EAAc0M,MAEV7B,KAKlClF,KAAKtC,eAAiB,SAAUiF,EAAUqE,GACxCzF,EAAMY,kBAEN,IAAI8E,IAAoBtE,EACpBtI,EAAe4M,EAAkBtE,EAAShD,IAAI9F,KAAe,GAE7DqN,EAAc,GAElB3F,EAAMc,kBAAiB,GAAMhJ,SAAQ,SAAUkJ,GAW7C,GATK0E,GACH5M,EAAajC,KAAKmK,EAAM1I,gBAQT,OAAZmN,QAAgC,IAAZA,OAAqB,EAASA,EAAQ/L,YAAcgM,EAAiB,CAC5F,IAAIhN,EAAWsI,EAAM1I,cAIrBI,EAASuB,OAAM,SAAUC,EAAUnE,GACjC,OAAOqL,EAASrL,KAAOmE,QAA4BjE,IAAhBmL,EAASrL,OAE5C+C,EAAajC,KAAK6B,GAKtB,GAAKsI,EAAM+B,MAAM6C,OAAU5E,EAAM+B,MAAM6C,MAAM5P,OAA7C,CAIA,IAAIqM,EAAgBrB,EAAM1I,cAE1B,IAAKoN,GAAmB3M,YAAiBD,EAAcuJ,GAAgB,CACrE,IAAIwD,EAAU7E,EAAM8E,cAAc1N,YAAc,CAC9CkF,iBAAkBlF,YAAcA,YAAc,GAAI2N,KAA0B/F,EAAM1C,mBACjFmI,IAEHE,EAAY9O,KAAKgP,EAAQG,MAAK,WAC5B,MAAO,CACLnI,KAAMwE,EACNP,OAAQ,OAETmE,OAAM,SAAUnE,GACjB,OAAOoE,QAAQC,OAAO,CACpBtI,KAAMwE,EACNP,OAAQA,aAMhB,IAAIsE,EC/vBD,SAA0BT,GAC/B,IAAIU,GAAW,EACXC,EAAQX,EAAY3P,OACpBuQ,EAAU,GAEd,OAAKZ,EAAY3P,OAIV,IAAIkQ,SAAQ,SAAUM,EAASL,GACpCR,EAAY7N,SAAQ,SAAU+N,EAAShE,GACrCgE,EAAQI,OAAM,SAAUQ,GAEtB,OADAJ,GAAW,EACJI,KACNT,MAAK,SAAUU,GAChBJ,GAAS,EACTC,EAAQ1E,GAAS6E,EAEbJ,EAAQ,IAIRD,GACFF,EAAOI,GAGTC,EAAQD,aApBLL,QAAQM,QAAQ,IDyvBFG,CAAiBhB,GACtC3F,EAAMO,oBAAsB6F,EAE5BA,EAAeH,OAAM,SAAUM,GAC7B,OAAOA,KACNP,MAAK,SAAUO,GAChB,IAAIK,EAAqBL,EAAQnI,KAAI,SAAUyI,GAE7C,OADWA,EAAMhJ,QAInBmC,EAAM0D,gBAAgB1D,EAAMvH,MAAOmO,EAAoB,CACrDnH,KAAM,mBAGRO,EAAM4E,sBAAsBgC,EAAoBL,MAElD,IAAIO,EAAgBV,EAAeJ,MAAK,WACtC,OAAIhG,EAAMO,sBAAwB6F,EACzBF,QAAQM,QAAQxG,EAAMvE,eAAe3C,IAGvCoN,QAAQC,OAAO,OACrBF,OAAM,SAAUM,GACjB,IAAIQ,EAAYR,EAAQ9P,QAAO,SAAUiQ,GACvC,OAAOA,GAAUA,EAAO5E,OAAO9L,UAEjC,OAAOkQ,QAAQC,OAAO,CACpB3M,OAAQwG,EAAMvE,eAAe3C,GAC7BkO,YAAaD,EACbE,UAAWjH,EAAMO,sBAAwB6F,OAO7C,OAHAU,EAAcb,OAAM,SAAUQ,GAC5B,OAAOA,KAEFK,GAITrI,KAAKrC,OAAS,WACZ4D,EAAMY,kBAENZ,EAAM7D,iBAAiB6J,MAAK,SAAUxM,GACpC,IAAI0N,EAAWlH,EAAMK,UAAU6G,SAE/B,GAAIA,EACF,IACEA,EAAS1N,GACT,MAAO2N,GAEPC,QAAQC,MAAMF,OAGjBlB,OAAM,SAAUQ,GACjB,IAAIa,EAAiBtH,EAAMK,UAAUiH,eAEjCA,GACFA,EAAeb,OAKrBhI,KAAKsB,gBAAkBA,GA2BVwH,IAxBf,SAAiBvJ,GACf,IAAIwJ,EAAUjM,WAEVkM,EAAkBlM,WAAe,IAEjCmM,EADmBvI,YAAesI,EAAiB,GACpB,GAEnC,IAAKD,EAAQ1R,QACX,GAAIkI,EACFwJ,EAAQ1R,QAAUkI,MACb,CAEL,IAII2J,EAAY,IAAI7H,GAJA,WAClB4H,EAAY,OAIdF,EAAQ1R,QAAU6R,EAAUnH,UAIhC,MAAO,CAACgH,EAAQ1R,W,iCEv1BX,SAASyC,EAAQtB,GACtB,YAAchB,IAAVgB,GAAiC,OAAVA,EAClB,GAGFO,MAAMC,QAAQR,GAASA,EAAQ,CAACA,GALzC,mC,iCCAA,sCAAI2Q,EAAe,mCACR7B,EAA0B,CACnC8B,QAAS,sCACTC,SAAU,wBACVC,KAAM,qCACNC,WAAY,4BACZC,KAAM,CACJC,OAAQ,uCACRC,MAAO,wCACPC,QAAS,6BAEXC,MAAO,CACLC,OAAQV,EACRW,OAAQX,EACR9M,MAAO8M,EACPzR,OAAQyR,EACRY,OAAQZ,EACRK,KAAML,EACNa,QAASb,EACTc,QAASd,EACTe,MAAOf,EACPgB,OAAQhB,EACRiB,MAAOjB,EACPkB,IAAKlB,EACLmB,IAAKnB,GAEPU,OAAQ,CACNU,IAAK,8CACLC,IAAK,+CACLC,IAAK,oDACLC,MAAO,0DAETX,OAAQ,CACNQ,IAAK,8BACLC,IAAK,uCACLC,IAAK,0CACLC,MAAO,+CAETrO,MAAO,CACLkO,IAAK,6CACLC,IAAK,iDACLC,IAAK,oDACLC,MAAO,yDAETC,QAAS,CACPC,SAAU,iD,iCC7Cd,kFAuIeC,IA7HJ,SAAcjM,EAAMkM,GAC7B,IAAI1L,EAAOR,EAAKQ,KACZuC,EAAgB/C,EAAK+C,cACrBuD,EAAStG,EAAKsG,OACd3F,EAAOX,EAAKW,KACZsC,EAAWjD,EAAKiD,SAChB7C,EAAWJ,EAAKI,SAChB+L,EAAiBnM,EAAKoM,UACtBC,OAA+B,IAAnBF,EAA4B,OAASA,EACjDlM,EAAmBD,EAAKC,iBACxBqM,EAAuBtM,EAAKuM,gBAC5BA,OAA2C,IAAzBD,EAAkC,WAAaA,EACjEhF,EAAiBtH,EAAKsH,eACtBkF,EAAkBxM,EAAKiI,eACvBwE,EAAYzM,EAAK6J,SACjBI,EAAiBjK,EAAKiK,eACtByC,EAAYjG,YAAyBzG,EAAM,CAAC,OAAQ,gBAAiB,SAAU,OAAQ,WAAY,WAAY,YAAa,mBAAoB,kBAAmB,iBAAkB,iBAAkB,WAAY,mBAEnNK,EAAcnC,aAAiBwB,KAG/BiN,EAAWzC,YAAQvJ,GAEnBiM,EADY9K,YAAe6K,EAAU,GACZ,GAEzBE,EAAwBD,EAAa5N,iBAAiBlB,KACtDsB,EAAeyN,EAAsBzN,aACrCC,EAAmBwN,EAAsBxN,iBACzCC,EAAeuN,EAAsBvN,aACrCE,EAAsBqN,EAAsBrN,oBAC5CC,EAAcoN,EAAsBpN,YAGxCvB,sBAA0BgO,GAAK,WAC7B,OAAOU,KAGT1O,aAAgB,WAEd,OADAmC,EAAYR,aAAaW,EAAMoM,GACxB,WACLvM,EAAYP,eAAeU,MAE5B,CAACH,EAAauM,EAAcpM,IAE/BhB,EAAoBzE,YAAcA,YAAc,GAAIsF,EAAYJ,kBAAmBA,IACnFX,EAAa,CACXgI,eAAgBA,EAChBW,eAAgB,SAAwBxH,GAGtC,GAFAJ,EAAYV,kBAAkBa,EAAMC,GAEhC+L,EAAiB,CACnB,IAAK,IAAIjQ,EAAOhC,UAAU5B,OAAQmU,EAAO,IAAI3S,MAAMoC,EAAO,EAAIA,EAAO,EAAI,GAAIE,EAAO,EAAGA,EAAOF,EAAME,IAClGqQ,EAAKrQ,EAAO,GAAKlC,UAAUkC,GAG7B+P,EAAgB/S,WAAM,EAAQ,CAACgH,GAAevD,OAAO4P,MAGzDjD,SAAU,SAAkB1N,GAC1BkE,EAAYT,kBAAkBY,EAAMrE,GAEhCsQ,GACFA,EAAUtQ,IAGd8N,eAAgBA,IAElBxK,EAAYwD,GAEZ,IAAI8J,EAAW7O,SAAa,MAC5BmB,EAAiB0D,GAAgBgK,EAAStU,SAErCsU,EAAStU,UACZsU,EAAStU,SAAU,GAIrB,IAAIuU,EAAe5M,EACf6M,EAA0C,oBAAb7M,EAE7B6M,IAEFD,EAAe5M,EADFwM,EAAaxO,gBAAe,GACTwO,IAIlCxN,GAAc6N,GAEd,IAAIC,EAAgBhP,WACpBA,aAAgB,WACTpB,YAAUoQ,EAAczU,SAAW,GAAI6N,GAAU,KACpDsG,EAAahO,UAAU0H,GAAU,IAGnC4G,EAAczU,QAAU6N,IACvB,CAACA,EAAQsG,IACZ,IAAIO,EAAmBjP,WAAc,WACnC,OAAOnD,YAAcA,YAAc,GAAI6R,GAAe,GAAI,CACxDL,gBAAiBA,MAElB,CAACK,EAAcL,IACda,EAA2BlP,gBAAoBmP,IAAa9M,SAAU,CACxE3G,MAAOuT,GACNH,GAEH,OAAkB,IAAdX,EACKe,EAGWlP,gBAAoBmO,EAAWiB,YAAS,GAAIZ,EAAW,CACzEa,SAAU,SAAkBhQ,GAC1BA,EAAMiQ,iBACNjQ,EAAMkQ,kBACNb,EAAa7N,UAEf2O,QAAS,SAAiBnQ,GACxB,IAAIoQ,EAEJpQ,EAAMiQ,iBACNZ,EAAajO,cACgC,QAA5CgP,EAAqBjB,EAAUgB,eAA4C,IAAvBC,GAAyCA,EAAmBtJ,KAAKqI,EAAWnP,MAEjI6P","file":"static/js/4.4e125092.chunk.js","sourcesContent":["export default function get(entity, path) {\n  var current = entity;\n\n  for (var i = 0; i < path.length; i += 1) {\n    if (current === null || current === undefined) {\n      return undefined;\n    }\n\n    current = current[path[i]];\n  }\n\n  return current;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _toArray from \"@babel/runtime/helpers/esm/toArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport get from './get';\n\nfunction internalSet(entity, paths, value, removeIfUndefined) {\n  if (!paths.length) {\n    return value;\n  }\n\n  var _paths = _toArray(paths),\n      path = _paths[0],\n      restPath = _paths.slice(1);\n\n  var clone;\n\n  if (!entity && typeof path === 'number') {\n    clone = [];\n  } else if (Array.isArray(entity)) {\n    clone = _toConsumableArray(entity);\n  } else {\n    clone = _objectSpread({}, entity);\n  } // Delete prop if `removeIfUndefined` and value is undefined\n\n\n  if (removeIfUndefined && value === undefined && restPath.length === 1) {\n    delete clone[path][restPath[0]];\n  } else {\n    clone[path] = internalSet(clone[path], restPath, value, removeIfUndefined);\n  }\n\n  return clone;\n}\n\nexport default function set(entity, paths, value) {\n  var removeIfUndefined = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  // Do nothing if `removeIfUndefined` and parent object not exist\n  if (paths.length && removeIfUndefined && value === undefined && !get(entity, paths.slice(0, -1))) {\n    return entity;\n  }\n\n  return internalSet(entity, paths, value, removeIfUndefined);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport get from \"rc-util/es/utils/get\";\nimport set from \"rc-util/es/utils/set\";\nimport { toArray } from './typeUtil';\n/**\n * Convert name to internal supported format.\n * This function should keep since we still thinking if need support like `a.b.c` format.\n * 'a' => ['a']\n * 123 => [123]\n * ['a', 123] => ['a', 123]\n */\n\nexport function getNamePath(path) {\n  return toArray(path);\n}\nexport function getValue(store, namePath) {\n  var value = get(store, namePath);\n  return value;\n}\nexport function setValue(store, namePath, value) {\n  var removeIfUndefined = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var newStore = set(store, namePath, value, removeIfUndefined);\n  return newStore;\n}\nexport function cloneByNamePathList(store, namePathList) {\n  var newStore = {};\n  namePathList.forEach(function (namePath) {\n    var value = getValue(store, namePath);\n    newStore = setValue(newStore, namePath, value);\n  });\n  return newStore;\n}\nexport function containsNamePath(namePathList, namePath) {\n  return namePathList && namePathList.some(function (path) {\n    return matchNamePath(path, namePath);\n  });\n}\n\nfunction isObject(obj) {\n  return _typeof(obj) === 'object' && obj !== null && Object.getPrototypeOf(obj) === Object.prototype;\n}\n/**\n * Copy values into store and return a new values object\n * ({ a: 1, b: { c: 2 } }, { a: 4, b: { d: 5 } }) => { a: 4, b: { c: 2, d: 5 } }\n */\n\n\nfunction internalSetValues(store, values) {\n  var newStore = Array.isArray(store) ? _toConsumableArray(store) : _objectSpread({}, store);\n\n  if (!values) {\n    return newStore;\n  }\n\n  Object.keys(values).forEach(function (key) {\n    var prevValue = newStore[key];\n    var value = values[key]; // If both are object (but target is not array), we use recursion to set deep value\n\n    var recursive = isObject(prevValue) && isObject(value);\n    newStore[key] = recursive ? internalSetValues(prevValue, value || {}) : value;\n  });\n  return newStore;\n}\n\nexport function setValues(store) {\n  for (var _len = arguments.length, restValues = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    restValues[_key - 1] = arguments[_key];\n  }\n\n  return restValues.reduce(function (current, newStore) {\n    return internalSetValues(current, newStore);\n  }, store);\n}\nexport function matchNamePath(namePath, changedNamePath) {\n  if (!namePath || !changedNamePath || namePath.length !== changedNamePath.length) {\n    return false;\n  }\n\n  return namePath.every(function (nameUnit, i) {\n    return changedNamePath[i] === nameUnit;\n  });\n}\nexport function isSimilar(source, target) {\n  if (source === target) {\n    return true;\n  }\n\n  if (!source && target || source && !target) {\n    return false;\n  }\n\n  if (!source || !target || _typeof(source) !== 'object' || _typeof(target) !== 'object') {\n    return false;\n  }\n\n  var sourceKeys = Object.keys(source);\n  var targetKeys = Object.keys(target);\n  var keys = new Set([].concat(_toConsumableArray(sourceKeys), _toConsumableArray(targetKeys)));\n  return _toConsumableArray(keys).every(function (key) {\n    var sourceValue = source[key];\n    var targetValue = target[key];\n\n    if (typeof sourceValue === 'function' && typeof targetValue === 'function') {\n      return true;\n    }\n\n    return sourceValue === targetValue;\n  });\n}\nexport function defaultGetValueFromEvent(valuePropName) {\n  var event = arguments.length <= 1 ? undefined : arguments[1];\n\n  if (event && event.target && valuePropName in event.target) {\n    return event.target[valuePropName];\n  }\n\n  return event;\n}\n/**\n * Moves an array item from one position in an array to another.\n *\n * Note: This is a pure function so a new array will be returned, instead\n * of altering the array argument.\n *\n * @param array         Array in which to move an item.         (required)\n * @param moveIndex     The index of the item to move.          (required)\n * @param toIndex       The index to move item at moveIndex to. (required)\n */\n\nexport function move(array, moveIndex, toIndex) {\n  var length = array.length;\n\n  if (moveIndex < 0 || moveIndex >= length || toIndex < 0 || toIndex >= length) {\n    return array;\n  }\n\n  var item = array[moveIndex];\n  var diff = moveIndex - toIndex;\n\n  if (diff > 0) {\n    // move left\n    return [].concat(_toConsumableArray(array.slice(0, toIndex)), [item], _toConsumableArray(array.slice(toIndex, moveIndex)), _toConsumableArray(array.slice(moveIndex + 1, length)));\n  }\n\n  if (diff < 0) {\n    // move right\n    return [].concat(_toConsumableArray(array.slice(0, moveIndex)), _toConsumableArray(array.slice(moveIndex + 1, toIndex + 1)), [item], _toConsumableArray(array.slice(toIndex + 1, length)));\n  }\n\n  return array;\n}","import * as React from 'react';\nimport warning from \"rc-util/es/warning\";\nexport var HOOK_MARK = 'RC_FORM_INTERNAL_HOOKS'; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nvar warningFunc = function warningFunc() {\n  warning(false, 'Can not find FormContext. Please make sure you wrap Field under Form.');\n};\n\nvar Context = /*#__PURE__*/React.createContext({\n  getFieldValue: warningFunc,\n  getFieldsValue: warningFunc,\n  getFieldError: warningFunc,\n  getFieldsError: warningFunc,\n  isFieldsTouched: warningFunc,\n  isFieldTouched: warningFunc,\n  isFieldValidating: warningFunc,\n  isFieldsValidating: warningFunc,\n  resetFields: warningFunc,\n  setFields: warningFunc,\n  setFieldsValue: warningFunc,\n  validateFields: warningFunc,\n  submit: warningFunc,\n  getInternalHooks: function getInternalHooks() {\n    warningFunc();\n    return {\n      dispatch: warningFunc,\n      initEntityValue: warningFunc,\n      registerField: warningFunc,\n      useSubscribe: warningFunc,\n      setInitialValues: warningFunc,\n      setCallbacks: warningFunc,\n      getFields: warningFunc,\n      setValidateMessages: warningFunc,\n      setPreserve: warningFunc\n    };\n  }\n});\nexport default Context;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nvar FormContext = /*#__PURE__*/React.createContext({\n  triggerFormChange: function triggerFormChange() {},\n  triggerFormFinish: function triggerFormFinish() {},\n  registerForm: function registerForm() {},\n  unregisterForm: function unregisterForm() {}\n});\n\nvar FormProvider = function FormProvider(_ref) {\n  var validateMessages = _ref.validateMessages,\n      onFormChange = _ref.onFormChange,\n      onFormFinish = _ref.onFormFinish,\n      children = _ref.children;\n  var formContext = React.useContext(FormContext);\n  var formsRef = React.useRef({});\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: _objectSpread(_objectSpread({}, formContext), {}, {\n      validateMessages: _objectSpread(_objectSpread({}, formContext.validateMessages), validateMessages),\n      // =========================================================\n      // =                  Global Form Control                  =\n      // =========================================================\n      triggerFormChange: function triggerFormChange(name, changedFields) {\n        if (onFormChange) {\n          onFormChange(name, {\n            changedFields: changedFields,\n            forms: formsRef.current\n          });\n        }\n\n        formContext.triggerFormChange(name, changedFields);\n      },\n      triggerFormFinish: function triggerFormFinish(name, values) {\n        if (onFormFinish) {\n          onFormFinish(name, {\n            values: values,\n            forms: formsRef.current\n          });\n        }\n\n        formContext.triggerFormFinish(name, values);\n      },\n      registerForm: function registerForm(name, form) {\n        if (name) {\n          formsRef.current = _objectSpread(_objectSpread({}, formsRef.current), {}, _defineProperty({}, name, form));\n        }\n\n        formContext.registerForm(name, form);\n      },\n      unregisterForm: function unregisterForm(name) {\n        var newForms = _objectSpread({}, formsRef.current);\n\n        delete newForms[name];\n        formsRef.current = newForms;\n        formContext.unregisterForm(name);\n      }\n    })\n  }, children);\n};\n\nexport { FormProvider };\nexport default FormContext;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar SPLIT = '__@field_split__';\n/**\n * Convert name path into string to fast the fetch speed of Map.\n */\n\nfunction normalize(namePath) {\n  return namePath.map(function (cell) {\n    return \"\".concat(_typeof(cell), \":\").concat(cell);\n  }) // Magic split\n  .join(SPLIT);\n}\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\n\n\nvar NameMap = /*#__PURE__*/function () {\n  function NameMap() {\n    _classCallCheck(this, NameMap);\n\n    this.kvs = new Map();\n  }\n\n  _createClass(NameMap, [{\n    key: \"set\",\n    value: function set(key, value) {\n      this.kvs.set(normalize(key), value);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return this.kvs.get(normalize(key));\n    }\n  }, {\n    key: \"update\",\n    value: function update(key, updater) {\n      var origin = this.get(key);\n      var next = updater(origin);\n\n      if (!next) {\n        this.delete(key);\n      } else {\n        this.set(key, next);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this.kvs.delete(normalize(key));\n    } // Since we only use this in test, let simply realize this\n\n  }, {\n    key: \"map\",\n    value: function map(callback) {\n      return _toConsumableArray(this.kvs.entries()).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        var cells = key.split(SPLIT);\n        return callback({\n          key: cells.map(function (cell) {\n            var _cell$match = cell.match(/^([^:]*):(.*)$/),\n                _cell$match2 = _slicedToArray(_cell$match, 3),\n                type = _cell$match2[1],\n                unit = _cell$match2[2];\n\n            return type === 'number' ? Number(unit) : unit;\n          }),\n          value: value\n        });\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {};\n      this.map(function (_ref3) {\n        var key = _ref3.key,\n            value = _ref3.value;\n        json[key.join('.')] = value;\n        return null;\n      });\n      return json;\n    }\n  }]);\n\n  return NameMap;\n}();\n\nexport default NameMap;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport * as React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport { HOOK_MARK } from './FieldContext';\nimport { allPromiseFinish } from './utils/asyncUtil';\nimport NameMap from './utils/NameMap';\nimport { defaultValidateMessages } from './utils/messages';\nimport { cloneByNamePathList, containsNamePath, getNamePath, getValue, matchNamePath, setValue, setValues } from './utils/valueUtil';\nexport var FormStore = function FormStore(forceRootUpdate) {\n  var _this = this;\n\n  _classCallCheck(this, FormStore);\n\n  this.formHooked = false;\n  this.subscribable = true;\n  this.store = {};\n  this.fieldEntities = [];\n  this.initialValues = {};\n  this.callbacks = {};\n  this.validateMessages = null;\n  this.preserve = null;\n  this.lastValidatePromise = null;\n\n  this.getForm = function () {\n    return {\n      getFieldValue: _this.getFieldValue,\n      getFieldsValue: _this.getFieldsValue,\n      getFieldError: _this.getFieldError,\n      getFieldsError: _this.getFieldsError,\n      isFieldsTouched: _this.isFieldsTouched,\n      isFieldTouched: _this.isFieldTouched,\n      isFieldValidating: _this.isFieldValidating,\n      isFieldsValidating: _this.isFieldsValidating,\n      resetFields: _this.resetFields,\n      setFields: _this.setFields,\n      setFieldsValue: _this.setFieldsValue,\n      validateFields: _this.validateFields,\n      submit: _this.submit,\n      getInternalHooks: _this.getInternalHooks\n    };\n  }; // ======================== Internal Hooks ========================\n\n\n  this.getInternalHooks = function (key) {\n    if (key === HOOK_MARK) {\n      _this.formHooked = true;\n      return {\n        dispatch: _this.dispatch,\n        initEntityValue: _this.initEntityValue,\n        registerField: _this.registerField,\n        useSubscribe: _this.useSubscribe,\n        setInitialValues: _this.setInitialValues,\n        setCallbacks: _this.setCallbacks,\n        setValidateMessages: _this.setValidateMessages,\n        getFields: _this.getFields,\n        setPreserve: _this.setPreserve\n      };\n    }\n\n    warning(false, '`getInternalHooks` is internal usage. Should not call directly.');\n    return null;\n  };\n\n  this.useSubscribe = function (subscribable) {\n    _this.subscribable = subscribable;\n  };\n  /**\n   * First time `setInitialValues` should update store with initial value\n   */\n\n\n  this.setInitialValues = function (initialValues, init) {\n    _this.initialValues = initialValues || {};\n\n    if (init) {\n      _this.store = setValues({}, initialValues, _this.store);\n    }\n  };\n\n  this.getInitialValue = function (namePath) {\n    return getValue(_this.initialValues, namePath);\n  };\n\n  this.setCallbacks = function (callbacks) {\n    _this.callbacks = callbacks;\n  };\n\n  this.setValidateMessages = function (validateMessages) {\n    _this.validateMessages = validateMessages;\n  };\n\n  this.setPreserve = function (preserve) {\n    _this.preserve = preserve;\n  }; // ========================== Dev Warning =========================\n\n\n  this.timeoutId = null;\n\n  this.warningUnhooked = function () {\n    if (process.env.NODE_ENV !== 'production' && !_this.timeoutId && typeof window !== 'undefined') {\n      _this.timeoutId = setTimeout(function () {\n        _this.timeoutId = null;\n\n        if (!_this.formHooked) {\n          warning(false, 'Instance created by `useForm` is not connected to any Form element. Forget to pass `form` prop?');\n        }\n      });\n    }\n  }; // ============================ Fields ============================\n\n  /**\n   * Get registered field entities.\n   * @param pure Only return field which has a `name`. Default: false\n   */\n\n\n  this.getFieldEntities = function () {\n    var pure = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (!pure) {\n      return _this.fieldEntities;\n    }\n\n    return _this.fieldEntities.filter(function (field) {\n      return field.getNamePath().length;\n    });\n  };\n\n  this.getFieldsMap = function () {\n    var pure = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var cache = new NameMap();\n\n    _this.getFieldEntities(pure).forEach(function (field) {\n      var namePath = field.getNamePath();\n      cache.set(namePath, field);\n    });\n\n    return cache;\n  };\n\n  this.getFieldEntitiesForNamePathList = function (nameList) {\n    if (!nameList) {\n      return _this.getFieldEntities(true);\n    }\n\n    var cache = _this.getFieldsMap(true);\n\n    return nameList.map(function (name) {\n      var namePath = getNamePath(name);\n      return cache.get(namePath) || {\n        INVALIDATE_NAME_PATH: getNamePath(name)\n      };\n    });\n  };\n\n  this.getFieldsValue = function (nameList, filterFunc) {\n    _this.warningUnhooked();\n\n    if (nameList === true && !filterFunc) {\n      return _this.store;\n    }\n\n    var fieldEntities = _this.getFieldEntitiesForNamePathList(Array.isArray(nameList) ? nameList : null);\n\n    var filteredNameList = [];\n    fieldEntities.forEach(function (entity) {\n      var _entity$isListField;\n\n      var namePath = 'INVALIDATE_NAME_PATH' in entity ? entity.INVALIDATE_NAME_PATH : entity.getNamePath(); // Ignore when it's a list item and not specific the namePath,\n      // since parent field is already take in count\n\n      if (!nameList && ((_entity$isListField = entity.isListField) === null || _entity$isListField === void 0 ? void 0 : _entity$isListField.call(entity))) {\n        return;\n      }\n\n      if (!filterFunc) {\n        filteredNameList.push(namePath);\n      } else {\n        var meta = 'getMeta' in entity ? entity.getMeta() : null;\n\n        if (filterFunc(meta)) {\n          filteredNameList.push(namePath);\n        }\n      }\n    });\n    return cloneByNamePathList(_this.store, filteredNameList.map(getNamePath));\n  };\n\n  this.getFieldValue = function (name) {\n    _this.warningUnhooked();\n\n    var namePath = getNamePath(name);\n    return getValue(_this.store, namePath);\n  };\n\n  this.getFieldsError = function (nameList) {\n    _this.warningUnhooked();\n\n    var fieldEntities = _this.getFieldEntitiesForNamePathList(nameList);\n\n    return fieldEntities.map(function (entity, index) {\n      if (entity && !('INVALIDATE_NAME_PATH' in entity)) {\n        return {\n          name: entity.getNamePath(),\n          errors: entity.getErrors()\n        };\n      }\n\n      return {\n        name: getNamePath(nameList[index]),\n        errors: []\n      };\n    });\n  };\n\n  this.getFieldError = function (name) {\n    _this.warningUnhooked();\n\n    var namePath = getNamePath(name);\n\n    var fieldError = _this.getFieldsError([namePath])[0];\n\n    return fieldError.errors;\n  };\n\n  this.isFieldsTouched = function () {\n    _this.warningUnhooked();\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var arg0 = args[0],\n        arg1 = args[1];\n    var namePathList;\n    var isAllFieldsTouched = false;\n\n    if (args.length === 0) {\n      namePathList = null;\n    } else if (args.length === 1) {\n      if (Array.isArray(arg0)) {\n        namePathList = arg0.map(getNamePath);\n        isAllFieldsTouched = false;\n      } else {\n        namePathList = null;\n        isAllFieldsTouched = arg0;\n      }\n    } else {\n      namePathList = arg0.map(getNamePath);\n      isAllFieldsTouched = arg1;\n    }\n\n    var fieldEntities = _this.getFieldEntities(true);\n\n    var isFieldTouched = function isFieldTouched(field) {\n      return field.isFieldTouched();\n    }; // ===== Will get fully compare when not config namePathList =====\n\n\n    if (!namePathList) {\n      return isAllFieldsTouched ? fieldEntities.every(isFieldTouched) : fieldEntities.some(isFieldTouched);\n    } // Generate a nest tree for validate\n\n\n    var map = new NameMap();\n    namePathList.forEach(function (shortNamePath) {\n      map.set(shortNamePath, []);\n    });\n    fieldEntities.forEach(function (field) {\n      var fieldNamePath = field.getNamePath(); // Find matched entity and put into list\n\n      namePathList.forEach(function (shortNamePath) {\n        if (shortNamePath.every(function (nameUnit, i) {\n          return fieldNamePath[i] === nameUnit;\n        })) {\n          map.update(shortNamePath, function (list) {\n            return [].concat(_toConsumableArray(list), [field]);\n          });\n        }\n      });\n    }); // Check if NameMap value is touched\n\n    var isNamePathListTouched = function isNamePathListTouched(entities) {\n      return entities.some(isFieldTouched);\n    };\n\n    var namePathListEntities = map.map(function (_ref) {\n      var value = _ref.value;\n      return value;\n    });\n    return isAllFieldsTouched ? namePathListEntities.every(isNamePathListTouched) : namePathListEntities.some(isNamePathListTouched);\n  };\n\n  this.isFieldTouched = function (name) {\n    _this.warningUnhooked();\n\n    return _this.isFieldsTouched([name]);\n  };\n\n  this.isFieldsValidating = function (nameList) {\n    _this.warningUnhooked();\n\n    var fieldEntities = _this.getFieldEntities();\n\n    if (!nameList) {\n      return fieldEntities.some(function (testField) {\n        return testField.isFieldValidating();\n      });\n    }\n\n    var namePathList = nameList.map(getNamePath);\n    return fieldEntities.some(function (testField) {\n      var fieldNamePath = testField.getNamePath();\n      return containsNamePath(namePathList, fieldNamePath) && testField.isFieldValidating();\n    });\n  };\n\n  this.isFieldValidating = function (name) {\n    _this.warningUnhooked();\n\n    return _this.isFieldsValidating([name]);\n  };\n  /**\n   * Reset Field with field `initialValue` prop.\n   * Can pass `entities` or `namePathList` or just nothing.\n   */\n\n\n  this.resetWithFieldInitialValue = function () {\n    var info = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Create cache\n    var cache = new NameMap();\n\n    var fieldEntities = _this.getFieldEntities(true);\n\n    fieldEntities.forEach(function (field) {\n      var initialValue = field.props.initialValue;\n      var namePath = field.getNamePath(); // Record only if has `initialValue`\n\n      if (initialValue !== undefined) {\n        var records = cache.get(namePath) || new Set();\n        records.add({\n          entity: field,\n          value: initialValue\n        });\n        cache.set(namePath, records);\n      }\n    }); // Reset\n\n    var resetWithFields = function resetWithFields(entities) {\n      entities.forEach(function (field) {\n        var initialValue = field.props.initialValue;\n\n        if (initialValue !== undefined) {\n          var namePath = field.getNamePath();\n\n          var formInitialValue = _this.getInitialValue(namePath);\n\n          if (formInitialValue !== undefined) {\n            // Warning if conflict with form initialValues and do not modify value\n            warning(false, \"Form already set 'initialValues' with path '\".concat(namePath.join('.'), \"'. Field can not overwrite it.\"));\n          } else {\n            var records = cache.get(namePath);\n\n            if (records && records.size > 1) {\n              // Warning if multiple field set `initialValue`and do not modify value\n              warning(false, \"Multiple Field with path '\".concat(namePath.join('.'), \"' set 'initialValue'. Can not decide which one to pick.\"));\n            } else if (records) {\n              var originValue = _this.getFieldValue(namePath); // Set `initialValue`\n\n\n              if (!info.skipExist || originValue === undefined) {\n                _this.store = setValue(_this.store, namePath, _toConsumableArray(records)[0].value);\n              }\n            }\n          }\n        }\n      });\n    };\n\n    var requiredFieldEntities;\n\n    if (info.entities) {\n      requiredFieldEntities = info.entities;\n    } else if (info.namePathList) {\n      requiredFieldEntities = [];\n      info.namePathList.forEach(function (namePath) {\n        var records = cache.get(namePath);\n\n        if (records) {\n          var _requiredFieldEntitie;\n\n          (_requiredFieldEntitie = requiredFieldEntities).push.apply(_requiredFieldEntitie, _toConsumableArray(_toConsumableArray(records).map(function (r) {\n            return r.entity;\n          })));\n        }\n      });\n    } else {\n      requiredFieldEntities = fieldEntities;\n    }\n\n    resetWithFields(requiredFieldEntities);\n  };\n\n  this.resetFields = function (nameList) {\n    _this.warningUnhooked();\n\n    var prevStore = _this.store;\n\n    if (!nameList) {\n      _this.store = setValues({}, _this.initialValues);\n\n      _this.resetWithFieldInitialValue();\n\n      _this.notifyObservers(prevStore, null, {\n        type: 'reset'\n      });\n\n      return;\n    } // Reset by `nameList`\n\n\n    var namePathList = nameList.map(getNamePath);\n    namePathList.forEach(function (namePath) {\n      var initialValue = _this.getInitialValue(namePath);\n\n      _this.store = setValue(_this.store, namePath, initialValue);\n    });\n\n    _this.resetWithFieldInitialValue({\n      namePathList: namePathList\n    });\n\n    _this.notifyObservers(prevStore, namePathList, {\n      type: 'reset'\n    });\n  };\n\n  this.setFields = function (fields) {\n    _this.warningUnhooked();\n\n    var prevStore = _this.store;\n    fields.forEach(function (fieldData) {\n      var name = fieldData.name,\n          errors = fieldData.errors,\n          data = _objectWithoutProperties(fieldData, [\"name\", \"errors\"]);\n\n      var namePath = getNamePath(name); // Value\n\n      if ('value' in data) {\n        _this.store = setValue(_this.store, namePath, data.value);\n      }\n\n      _this.notifyObservers(prevStore, [namePath], {\n        type: 'setField',\n        data: fieldData\n      });\n    });\n  };\n\n  this.getFields = function () {\n    var entities = _this.getFieldEntities(true);\n\n    var fields = entities.map(function (field) {\n      var namePath = field.getNamePath();\n      var meta = field.getMeta();\n\n      var fieldData = _objectSpread(_objectSpread({}, meta), {}, {\n        name: namePath,\n        value: _this.getFieldValue(namePath)\n      });\n\n      Object.defineProperty(fieldData, 'originRCField', {\n        value: true\n      });\n      return fieldData;\n    });\n    return fields;\n  }; // =========================== Observer ===========================\n\n  /**\n   * This only trigger when a field is on constructor to avoid we get initialValue too late\n   */\n\n\n  this.initEntityValue = function (entity) {\n    var initialValue = entity.props.initialValue;\n\n    if (initialValue !== undefined) {\n      var namePath = entity.getNamePath();\n      var prevValue = getValue(_this.store, namePath);\n\n      if (prevValue === undefined) {\n        _this.store = setValue(_this.store, namePath, initialValue);\n      }\n    }\n  };\n\n  this.registerField = function (entity) {\n    _this.fieldEntities.push(entity); // Set initial values\n\n\n    if (entity.props.initialValue !== undefined) {\n      var prevStore = _this.store;\n\n      _this.resetWithFieldInitialValue({\n        entities: [entity],\n        skipExist: true\n      });\n\n      _this.notifyObservers(prevStore, [entity.getNamePath()], {\n        type: 'valueUpdate',\n        source: 'internal'\n      });\n    } // un-register field callback\n\n\n    return function (isListField, preserve) {\n      var subNamePath = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      _this.fieldEntities = _this.fieldEntities.filter(function (item) {\n        return item !== entity;\n      }); // Clean up store value if not preserve\n\n      var mergedPreserve = preserve !== undefined ? preserve : _this.preserve;\n\n      if (mergedPreserve === false && (!isListField || subNamePath.length > 1)) {\n        var namePath = entity.getNamePath();\n        var defaultValue = isListField ? undefined : getValue(_this.initialValues, namePath);\n\n        if (namePath.length && _this.getFieldValue(namePath) !== defaultValue && _this.fieldEntities.every(function (field) {\n          return (// Only reset when no namePath exist\n            !matchNamePath(field.getNamePath(), namePath)\n          );\n        })) {\n          _this.store = setValue(_this.store, namePath, defaultValue, true);\n        }\n      }\n    };\n  };\n\n  this.dispatch = function (action) {\n    switch (action.type) {\n      case 'updateValue':\n        {\n          var namePath = action.namePath,\n              value = action.value;\n\n          _this.updateValue(namePath, value);\n\n          break;\n        }\n\n      case 'validateField':\n        {\n          var _namePath = action.namePath,\n              triggerName = action.triggerName;\n\n          _this.validateFields([_namePath], {\n            triggerName: triggerName\n          });\n\n          break;\n        }\n\n      default: // Currently we don't have other action. Do nothing.\n\n    }\n  };\n\n  this.notifyObservers = function (prevStore, namePathList, info) {\n    if (_this.subscribable) {\n      var mergedInfo = _objectSpread(_objectSpread({}, info), {}, {\n        store: _this.getFieldsValue(true)\n      });\n\n      _this.getFieldEntities().forEach(function (_ref2) {\n        var onStoreChange = _ref2.onStoreChange;\n        onStoreChange(prevStore, namePathList, mergedInfo);\n      });\n    } else {\n      _this.forceRootUpdate();\n    }\n  };\n\n  this.updateValue = function (name, value) {\n    var namePath = getNamePath(name);\n    var prevStore = _this.store;\n    _this.store = setValue(_this.store, namePath, value);\n\n    _this.notifyObservers(prevStore, [namePath], {\n      type: 'valueUpdate',\n      source: 'internal'\n    }); // Notify dependencies children with parent update\n    // We need delay to trigger validate in case Field is under render props\n\n\n    var childrenFields = _this.getDependencyChildrenFields(namePath);\n\n    if (childrenFields.length) {\n      _this.validateFields(childrenFields);\n    }\n\n    _this.notifyObservers(prevStore, childrenFields, {\n      type: 'dependenciesUpdate',\n      relatedFields: [namePath].concat(_toConsumableArray(childrenFields))\n    }); // trigger callback function\n\n\n    var onValuesChange = _this.callbacks.onValuesChange;\n\n    if (onValuesChange) {\n      var changedValues = cloneByNamePathList(_this.store, [namePath]);\n      onValuesChange(changedValues, _this.getFieldsValue());\n    }\n\n    _this.triggerOnFieldsChange([namePath].concat(_toConsumableArray(childrenFields)));\n  }; // Let all child Field get update.\n\n\n  this.setFieldsValue = function (store) {\n    _this.warningUnhooked();\n\n    var prevStore = _this.store;\n\n    if (store) {\n      _this.store = setValues(_this.store, store);\n    }\n\n    _this.notifyObservers(prevStore, null, {\n      type: 'valueUpdate',\n      source: 'external'\n    });\n  };\n\n  this.getDependencyChildrenFields = function (rootNamePath) {\n    var children = new Set();\n    var childrenFields = [];\n    var dependencies2fields = new NameMap();\n    /**\n     * Generate maps\n     * Can use cache to save perf if user report performance issue with this\n     */\n\n    _this.getFieldEntities().forEach(function (field) {\n      var dependencies = field.props.dependencies;\n      (dependencies || []).forEach(function (dependency) {\n        var dependencyNamePath = getNamePath(dependency);\n        dependencies2fields.update(dependencyNamePath, function () {\n          var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Set();\n          fields.add(field);\n          return fields;\n        });\n      });\n    });\n\n    var fillChildren = function fillChildren(namePath) {\n      var fields = dependencies2fields.get(namePath) || new Set();\n      fields.forEach(function (field) {\n        if (!children.has(field)) {\n          children.add(field);\n          var fieldNamePath = field.getNamePath();\n\n          if (field.isFieldDirty() && fieldNamePath.length) {\n            childrenFields.push(fieldNamePath);\n            fillChildren(fieldNamePath);\n          }\n        }\n      });\n    };\n\n    fillChildren(rootNamePath);\n    return childrenFields;\n  };\n\n  this.triggerOnFieldsChange = function (namePathList, filedErrors) {\n    var onFieldsChange = _this.callbacks.onFieldsChange;\n\n    if (onFieldsChange) {\n      var fields = _this.getFields();\n      /**\n       * Fill errors since `fields` may be replaced by controlled fields\n       */\n\n\n      if (filedErrors) {\n        var cache = new NameMap();\n        filedErrors.forEach(function (_ref3) {\n          var name = _ref3.name,\n              errors = _ref3.errors;\n          cache.set(name, errors);\n        });\n        fields.forEach(function (field) {\n          // eslint-disable-next-line no-param-reassign\n          field.errors = cache.get(field.name) || field.errors;\n        });\n      }\n\n      var changedFields = fields.filter(function (_ref4) {\n        var fieldName = _ref4.name;\n        return containsNamePath(namePathList, fieldName);\n      });\n      onFieldsChange(changedFields, fields);\n    }\n  }; // =========================== Validate ===========================\n\n\n  this.validateFields = function (nameList, options) {\n    _this.warningUnhooked();\n\n    var provideNameList = !!nameList;\n    var namePathList = provideNameList ? nameList.map(getNamePath) : []; // Collect result in promise list\n\n    var promiseList = [];\n\n    _this.getFieldEntities(true).forEach(function (field) {\n      // Add field if not provide `nameList`\n      if (!provideNameList) {\n        namePathList.push(field.getNamePath());\n      }\n      /**\n       * Recursive validate if configured.\n       * TODO: perf improvement @zombieJ\n       */\n\n\n      if ((options === null || options === void 0 ? void 0 : options.recursive) && provideNameList) {\n        var namePath = field.getNamePath();\n\n        if ( // nameList[i] === undefined  nameList \n        // ['name'] -> ['name','list']\n        namePath.every(function (nameUnit, i) {\n          return nameList[i] === nameUnit || nameList[i] === undefined;\n        })) {\n          namePathList.push(namePath);\n        }\n      } // Skip if without rule\n\n\n      if (!field.props.rules || !field.props.rules.length) {\n        return;\n      }\n\n      var fieldNamePath = field.getNamePath(); // Add field validate rule in to promise list\n\n      if (!provideNameList || containsNamePath(namePathList, fieldNamePath)) {\n        var promise = field.validateRules(_objectSpread({\n          validateMessages: _objectSpread(_objectSpread({}, defaultValidateMessages), _this.validateMessages)\n        }, options)); // Wrap promise with field\n\n        promiseList.push(promise.then(function () {\n          return {\n            name: fieldNamePath,\n            errors: []\n          };\n        }).catch(function (errors) {\n          return Promise.reject({\n            name: fieldNamePath,\n            errors: errors\n          });\n        }));\n      }\n    });\n\n    var summaryPromise = allPromiseFinish(promiseList);\n    _this.lastValidatePromise = summaryPromise; // Notify fields with rule that validate has finished and need update\n\n    summaryPromise.catch(function (results) {\n      return results;\n    }).then(function (results) {\n      var resultNamePathList = results.map(function (_ref5) {\n        var name = _ref5.name;\n        return name;\n      });\n\n      _this.notifyObservers(_this.store, resultNamePathList, {\n        type: 'validateFinish'\n      });\n\n      _this.triggerOnFieldsChange(resultNamePathList, results);\n    });\n    var returnPromise = summaryPromise.then(function () {\n      if (_this.lastValidatePromise === summaryPromise) {\n        return Promise.resolve(_this.getFieldsValue(namePathList));\n      }\n\n      return Promise.reject([]);\n    }).catch(function (results) {\n      var errorList = results.filter(function (result) {\n        return result && result.errors.length;\n      });\n      return Promise.reject({\n        values: _this.getFieldsValue(namePathList),\n        errorFields: errorList,\n        outOfDate: _this.lastValidatePromise !== summaryPromise\n      });\n    }); // Do not throw in console\n\n    returnPromise.catch(function (e) {\n      return e;\n    });\n    return returnPromise;\n  }; // ============================ Submit ============================\n\n\n  this.submit = function () {\n    _this.warningUnhooked();\n\n    _this.validateFields().then(function (values) {\n      var onFinish = _this.callbacks.onFinish;\n\n      if (onFinish) {\n        try {\n          onFinish(values);\n        } catch (err) {\n          // Should print error if user `onFinish` callback failed\n          console.error(err);\n        }\n      }\n    }).catch(function (e) {\n      var onFinishFailed = _this.callbacks.onFinishFailed;\n\n      if (onFinishFailed) {\n        onFinishFailed(e);\n      }\n    });\n  };\n\n  this.forceRootUpdate = forceRootUpdate;\n};\n\nfunction useForm(form) {\n  var formRef = React.useRef();\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  if (!formRef.current) {\n    if (form) {\n      formRef.current = form;\n    } else {\n      // Create a new FormStore if not provided\n      var forceReRender = function forceReRender() {\n        forceUpdate({});\n      };\n\n      var formStore = new FormStore(forceReRender);\n      formRef.current = formStore.getForm();\n    }\n  }\n\n  return [formRef.current];\n}\n\nexport default useForm;","export function allPromiseFinish(promiseList) {\n  var hasError = false;\n  var count = promiseList.length;\n  var results = [];\n\n  if (!promiseList.length) {\n    return Promise.resolve([]);\n  }\n\n  return new Promise(function (resolve, reject) {\n    promiseList.forEach(function (promise, index) {\n      promise.catch(function (e) {\n        hasError = true;\n        return e;\n      }).then(function (result) {\n        count -= 1;\n        results[index] = result;\n\n        if (count > 0) {\n          return;\n        }\n\n        if (hasError) {\n          reject(results);\n        }\n\n        resolve(results);\n      });\n    });\n  });\n}","export function toArray(value) {\n  if (value === undefined || value === null) {\n    return [];\n  }\n\n  return Array.isArray(value) ? value : [value];\n}","var typeTemplate = \"'${name}' is not a valid ${type}\";\nexport var defaultValidateMessages = {\n  default: \"Validation error on field '${name}'\",\n  required: \"'${name}' is required\",\n  enum: \"'${name}' must be one of [${enum}]\",\n  whitespace: \"'${name}' cannot be empty\",\n  date: {\n    format: \"'${name}' is invalid for format date\",\n    parse: \"'${name}' could not be parsed as date\",\n    invalid: \"'${name}' is invalid date\"\n  },\n  types: {\n    string: typeTemplate,\n    method: typeTemplate,\n    array: typeTemplate,\n    object: typeTemplate,\n    number: typeTemplate,\n    date: typeTemplate,\n    boolean: typeTemplate,\n    integer: typeTemplate,\n    float: typeTemplate,\n    regexp: typeTemplate,\n    email: typeTemplate,\n    url: typeTemplate,\n    hex: typeTemplate\n  },\n  string: {\n    len: \"'${name}' must be exactly ${len} characters\",\n    min: \"'${name}' must be at least ${min} characters\",\n    max: \"'${name}' cannot be longer than ${max} characters\",\n    range: \"'${name}' must be between ${min} and ${max} characters\"\n  },\n  number: {\n    len: \"'${name}' must equal ${len}\",\n    min: \"'${name}' cannot be less than ${min}\",\n    max: \"'${name}' cannot be greater than ${max}\",\n    range: \"'${name}' must be between ${min} and ${max}\"\n  },\n  array: {\n    len: \"'${name}' must be exactly ${len} in length\",\n    min: \"'${name}' cannot be less than ${min} in length\",\n    max: \"'${name}' cannot be greater than ${max} in length\",\n    range: \"'${name}' must be between ${min} and ${max} in length\"\n  },\n  pattern: {\n    mismatch: \"'${name}' does not match pattern ${pattern}\"\n  }\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport useForm from './useForm';\nimport FieldContext, { HOOK_MARK } from './FieldContext';\nimport FormContext from './FormContext';\nimport { isSimilar } from './utils/valueUtil';\n\nvar Form = function Form(_ref, ref) {\n  var name = _ref.name,\n      initialValues = _ref.initialValues,\n      fields = _ref.fields,\n      form = _ref.form,\n      preserve = _ref.preserve,\n      children = _ref.children,\n      _ref$component = _ref.component,\n      Component = _ref$component === void 0 ? 'form' : _ref$component,\n      validateMessages = _ref.validateMessages,\n      _ref$validateTrigger = _ref.validateTrigger,\n      validateTrigger = _ref$validateTrigger === void 0 ? 'onChange' : _ref$validateTrigger,\n      onValuesChange = _ref.onValuesChange,\n      _onFieldsChange = _ref.onFieldsChange,\n      _onFinish = _ref.onFinish,\n      onFinishFailed = _ref.onFinishFailed,\n      restProps = _objectWithoutProperties(_ref, [\"name\", \"initialValues\", \"fields\", \"form\", \"preserve\", \"children\", \"component\", \"validateMessages\", \"validateTrigger\", \"onValuesChange\", \"onFieldsChange\", \"onFinish\", \"onFinishFailed\"]);\n\n  var formContext = React.useContext(FormContext); // We customize handle event since Context will makes all the consumer re-render:\n  // https://reactjs.org/docs/context.html#contextprovider\n\n  var _useForm = useForm(form),\n      _useForm2 = _slicedToArray(_useForm, 1),\n      formInstance = _useForm2[0];\n\n  var _formInstance$getInte = formInstance.getInternalHooks(HOOK_MARK),\n      useSubscribe = _formInstance$getInte.useSubscribe,\n      setInitialValues = _formInstance$getInte.setInitialValues,\n      setCallbacks = _formInstance$getInte.setCallbacks,\n      setValidateMessages = _formInstance$getInte.setValidateMessages,\n      setPreserve = _formInstance$getInte.setPreserve; // Pass ref with form instance\n\n\n  React.useImperativeHandle(ref, function () {\n    return formInstance;\n  }); // Register form into Context\n\n  React.useEffect(function () {\n    formContext.registerForm(name, formInstance);\n    return function () {\n      formContext.unregisterForm(name);\n    };\n  }, [formContext, formInstance, name]); // Pass props to store\n\n  setValidateMessages(_objectSpread(_objectSpread({}, formContext.validateMessages), validateMessages));\n  setCallbacks({\n    onValuesChange: onValuesChange,\n    onFieldsChange: function onFieldsChange(changedFields) {\n      formContext.triggerFormChange(name, changedFields);\n\n      if (_onFieldsChange) {\n        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          rest[_key - 1] = arguments[_key];\n        }\n\n        _onFieldsChange.apply(void 0, [changedFields].concat(rest));\n      }\n    },\n    onFinish: function onFinish(values) {\n      formContext.triggerFormFinish(name, values);\n\n      if (_onFinish) {\n        _onFinish(values);\n      }\n    },\n    onFinishFailed: onFinishFailed\n  });\n  setPreserve(preserve); // Set initial value, init store value when first mount\n\n  var mountRef = React.useRef(null);\n  setInitialValues(initialValues, !mountRef.current);\n\n  if (!mountRef.current) {\n    mountRef.current = true;\n  } // Prepare children by `children` type\n\n\n  var childrenNode = children;\n  var childrenRenderProps = typeof children === 'function';\n\n  if (childrenRenderProps) {\n    var values = formInstance.getFieldsValue(true);\n    childrenNode = children(values, formInstance);\n  } // Not use subscribe when using render props\n\n\n  useSubscribe(!childrenRenderProps); // Listen if fields provided. We use ref to save prev data here to avoid additional render\n\n  var prevFieldsRef = React.useRef();\n  React.useEffect(function () {\n    if (!isSimilar(prevFieldsRef.current || [], fields || [])) {\n      formInstance.setFields(fields || []);\n    }\n\n    prevFieldsRef.current = fields;\n  }, [fields, formInstance]);\n  var formContextValue = React.useMemo(function () {\n    return _objectSpread(_objectSpread({}, formInstance), {}, {\n      validateTrigger: validateTrigger\n    });\n  }, [formInstance, validateTrigger]);\n  var wrapperNode = /*#__PURE__*/React.createElement(FieldContext.Provider, {\n    value: formContextValue\n  }, childrenNode);\n\n  if (Component === false) {\n    return wrapperNode;\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, restProps, {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      formInstance.submit();\n    },\n    onReset: function onReset(event) {\n      var _restProps$onReset;\n\n      event.preventDefault();\n      formInstance.resetFields();\n      (_restProps$onReset = restProps.onReset) === null || _restProps$onReset === void 0 ? void 0 : _restProps$onReset.call(restProps, event);\n    }\n  }), wrapperNode);\n};\n\nexport default Form;"],"sourceRoot":""}