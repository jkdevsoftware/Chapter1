(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[24],{1336:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var a=n(19),c=n.n(a),r=n(22),i=n(39),s=n(169),o=n(651),u=n(1),d=(n(755),n(856)),l=n(983),p=n(1364),h=(n(853),n(723)),j=n(724),b=n(1340),m=(n(175),n(698)),O=n(17),f=new m.a;new j.a;function x(e){var t=Object(u.useState)(!1),n=Object(s.a)(t,2),a=n[0],r=n[1],o=Object(u.useState)([]),l=Object(s.a)(o,2),p=l[0],j=l[1],m=Object(u.useState)([]),x=Object(s.a)(m,2),v=x[0],y=x[1],S=Object(u.useState)([]),g=Object(s.a)(S,2),_=g[0],w=g[1],k=Object(u.useState)([]),M=Object(s.a)(k,2),P=M[0],A=M[1],C=[],T=[],D=[],N=[];Object(u.useEffect)((function(){E()}),[e]);e.index;var F=new Date,G=String(F.getMonth()+1).padStart(2,"0"),E=function(){var t=Object(i.a)(c.a.mark((function t(){var n,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),e.index,t.next=4,f.getChartAct({dp_id:e.index,cell_id:e.celli,post_id:e.posti,shi_id:e.shift,month:""===e.month?G:e.month});case 4:return n=t.sent,t.next=7,f.getLineAct({dp_id:e.index,cell_id:e.celli,post_id:e.posti,shi_id:e.shift,month:""===e.month?G:e.month});case 7:for(a=t.sent,i=0;i<n.length;i++)C.push(n[i].dd),T.push(n[i].present),D.push(n[i].absent),N.push(a[i].percented);j(C),y(T),w(D),A(N),r(!1);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(h.a,{show:a}),""===e.name?Object(O.jsx)("div",{}):Object(O.jsxs)(b.a,{color:"#2db7f5",style:{fontSize:"18px"},children:["Dept : ",e.name]}),""===e.m_name?Object(O.jsx)("div",{}):Object(O.jsxs)(b.a,{color:"#ff7f50",style:{fontSize:"18px"},children:["Month : ",e.m_name]}),""===e.name_cell?Object(O.jsx)("div",{}):Object(O.jsxs)(b.a,{color:"#218732",style:{fontSize:"18px"},children:["Section : ",e.name_cell]}),""===e.name_post?Object(O.jsx)("div",{}):Object(O.jsxs)(b.a,{color:"#ff5000",style:{fontSize:"18px"},children:["Position : ",e.name_post]}),""===e.name_shi?Object(O.jsx)("div",{}):Object(O.jsxs)(b.a,{color:"#dac5f7",style:{fontSize:"18px"},children:["Shift : ",e.name_shi]}),Object(O.jsx)(d.b,{options:{responsive:!0,plugins:{},scales:{y:{type:"linear",display:!0,position:"left",beginAtZero:!0,max:e.max,title:{display:!0,text:"Actual (ea.)"},grid:{display:!1}},y2:{type:"linear",display:!0,position:"right",beginAtZero:!0,max:110,title:{display:!0,text:"Percent (%)"}}}},data:{labels:p,datasets:[{label:"Actual Percent",data:P,type:"line",borderColor:"blue",backgroundColor:"blue",yAxisID:"y2"},{label:"Present",data:v,borderColor:"rgb(11, 218, 81)",backgroundColor:"rgba(11, 218, 81, 0.5)",stack:"Stack 0",type:"bar"},{label:"Absent",data:_,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",stack:"Stack 0",type:"bar"}]}})]})}n(851);var v=new(n(685).a),y=new m.a;function S(){var e=Object(u.useState)({chartSum:{trigger:!0,data:{dept:1,name:"",max:20,name_c:"",name_p:"",name_shi:"",cell:"",post:"",shi:"",month:"",m_name:""}}}),t=Object(s.a)(e,2),n=t[0],a=t[1];Object(u.useEffect)((function(){N()}),[k]);var d=Object(u.useState)({dept:{option:[{id:1,name:"NKP",valmax:20},{id:2,name:"PCBA",valmax:250},{id:3,name:"PMD",valmax:250},{id:4,name:"IMO",valmax:250},{id:5,name:"IAD",valmax:20}],selected:""},month:{option:[{id:"1",name:"January"},{id:"2",name:"February"},{id:"3",name:"March"},{id:"4",name:"April"},{id:"5",name:"May"},{id:"6",name:"June"},{id:"7",name:"July"},{id:"8",name:"August"},{id:"9",name:"September"},{id:"10",name:"Octorber"},{id:"11",name:"November"},{id:"12",name:"December"}],selected:""},shift:{option:[{id:1,name:"Day"},{id:2,name:"Night"},{id:3,name:"A"},{id:4,name:"B"},{id:5,name:"TEAM A"},{id:6,name:"TEAM B"},{id:7,name:"TEAM C"}],selected:""}}),h=Object(s.a)(d,2),j=h[0],b=h[1],m=Object(u.useState)({position:{option:[{po_id:0,po_name:""}],selected:""}}),f=Object(s.a)(m,2),S=f[0],g=f[1],_=Object(u.useState)({section:{option:[{cl_id:0,cl_name:""}],selected:""}}),w=Object(s.a)(_,2),k=w[0],M=w[1],P=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""===t?0:t,n=null,e.next=4,y.getSection();case 4:n=e.sent,M(Object(r.a)(Object(r.a)({},k),{},{section:Object(r.a)(Object(r.a)({},k.section),{},{option:n})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({chartSum:{trigger:!1,data:{dept:""===j.dept.selected?1:j.dept.option[j.dept.selected-1].id,name:""===j.dept.selected?"NKP":j.dept.option[j.dept.selected-1].name,max:""===j.dept.selected?20:j.dept.option[j.dept.selected-1].valmax,name_c:""===k.section.selected?"":k.section.option[k.section.selected-1].cl_name,name_p:""===S.position.selected?"":S.position.option[S.position.selected-1].po_name,name_shi:""===j.shift.selected?"":j.shift.option[j.shift.selected-1].name,cell:""===k.section.selected?"":k.section.option[k.section.selected-1].cl_id,post:""===S.position.selected?"":S.position.option[S.position.selected-1].po_id,shi:""===j.shift.selected?"":j.shift.option[j.shift.selected-1].id,month:""===j.month.selected?"":j.month.option[j.month.selected-1].id,m_name:""===j.month.selected?"":j.month.option[j.month.selected-1].name}}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(u.useState)({id:"",name:""}),T=Object(s.a)(C,2),D=(T[0],T[1],function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({chartSum:{data:{dept:1,name:"",max:20,name_c:"",name_p:"",name_shi:"",cell:"",post:"",shi:"",month:"",m_name:""}}}),b(Object(r.a)(Object(r.a)({},j),{},{shift:Object(r.a)(Object(r.a)({},j.shift),{},{selected:""})})),M(Object(r.a)(Object(r.a)({},k),{},{section:Object(r.a)(Object(r.a)({},k.section),{},{selected:""})})),g(Object(r.a)(Object(r.a)({},S),{},{position:Object(r.a)(Object(r.a)({},S.position),{},{selected:""})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),N=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("");case 2:return e.next=4,v.getPosition();case 4:t=e.sent,g(Object(r.a)(Object(r.a)({},S),{},{position:Object(r.a)(Object(r.a)({},S.position),{},{option:t})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(o.j,{children:[Object(O.jsx)(o.n,{children:Object(O.jsx)("h4",{children:"Summary"})}),Object(O.jsxs)(o.k,{children:[Object(O.jsx)(o.ub,{children:Object(O.jsx)(o.u,{lg:"12",children:Object(O.jsx)(o.j,{children:Object(O.jsxs)(o.k,{children:[Object(O.jsxs)(o.ub,{children:[Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)("label",{children:"Dept:"})}),Object(O.jsx)(o.u,{lg:"2",children:Object(O.jsx)(l.a,{style:{width:"130px"},value:""===j.dept.selected?j.dept.option[0].name:j.dept.option[j.dept.selected-1].name,onChange:function(e){b(Object(r.a)(Object(r.a)({},j),{},{dept:Object(r.a)(Object(r.a)({},j.dept),{},{selected:e})})),P(e)},children:j.dept.option.map((function(e){return Object(O.jsx)(l.a.Option,{children:e.name},e.id)}))})}),Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)("label",{children:"Section:"})}),Object(O.jsx)(o.u,{lg:"2",children:Object(O.jsx)(l.a,{style:{width:"130px"},value:""===k.section.selected?k.section.option[0].cl_name:k.section.option[k.section.selected-1].cl_name,onChange:function(e){M(Object(r.a)(Object(r.a)({},k),{},{section:Object(r.a)(Object(r.a)({},k.section),{},{selected:e})}))},children:k.section.option.map((function(e){return Object(O.jsx)(l.a.Option,{children:e.cl_name},e.cl_id)}))})}),Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)("label",{children:"Shift:"})}),Object(O.jsx)(o.u,{lg:"2",children:Object(O.jsx)(l.a,{style:{width:"130px"},value:""===j.shift.selected?j.shift.option[0].name:j.shift.option[j.shift.selected-1].name,onChange:function(e){b(Object(r.a)(Object(r.a)({},j),{},{shift:Object(r.a)(Object(r.a)({},j.shift),{},{selected:e})}))},children:j.shift.option.map((function(e){return Object(O.jsx)(l.a.Option,{children:e.name},e.id)}))})}),Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)("label",{children:"Position:"})}),Object(O.jsx)(o.u,{lg:"2",children:Object(O.jsx)(l.a,{style:{width:"130px"},value:""===S.position.selected?S.position.option[0].po_name:S.position.option[S.position.selected-1].po_name,onChange:function(e){g(Object(r.a)(Object(r.a)({},S),{},{position:Object(r.a)(Object(r.a)({},S.position),{},{selected:e})}))},children:S.position.option.map((function(e){return Object(O.jsx)(l.a.Option,{children:e.po_name},e.po_id)}))})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(o.ub,{children:[Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)("label",{children:"Month:"})}),Object(O.jsx)(o.u,{lg:"2",children:Object(O.jsx)(l.a,{style:{width:"500px"},value:""===j.month.selected?j.month.option[0].name:j.month.option[j.month.selected-1].name,onChange:function(e){b(Object(r.a)(Object(r.a)({},j),{},{month:Object(r.a)(Object(r.a)({},j.month),{},{selected:e})}))},children:j.month.option.map((function(e){return Object(O.jsx)(l.a.Option,{children:e.name},e.id)}))})}),Object(O.jsx)(o.u,{lg:"6"}),Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)(p.a,{className:"btn btn-primary",style:{width:"80px",float:"left"},onClick:function(){return A()},children:"Set"})}),Object(O.jsx)(o.u,{lg:"1"}),Object(O.jsx)(o.u,{lg:"1",children:Object(O.jsx)(p.a,{className:"btn btn-danger",style:{width:"80px",float:"right"},onClick:function(){return D()},children:"Clear"})})]})]})})})}),Object(O.jsx)(o.ub,{children:Object(O.jsx)(o.u,{lg:"12",children:Object(O.jsx)(o.j,{children:Object(O.jsx)(o.k,{children:Object(O.jsx)(x,{index:1===n.chartSum.data.dept?1:n.chartSum.data.dept,posti:""===n.chartSum.data.post?"":n.chartSum.data.post,celli:""===n.chartSum.data.cell?"":n.chartSum.data.cell,shift:""===n.chartSum.data.shi?"":n.chartSum.data.shi,name_post:""===n.chartSum.data.name_p?"":n.chartSum.data.name_p,name_cell:""===n.chartSum.data.name_c?"":n.chartSum.data.name_c,name_shi:""===n.chartSum.data.name_shi?"":n.chartSum.data.name_shi,name:""===n.chartSum.data.name?"NKP":n.chartSum.data.name,max:""==n.chartSum.data.max?20:n.chartSum.data.max,month:""===n.chartSum.data.month?"":n.chartSum.data.month,m_name:""===n.chartSum.data.m_name?"":n.chartSum.data.m_name})})})})})]})]})}},685:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(19),c=n.n(a),r=n(39),i=n(54),s=n(55),o=n(66),u=n(65),d=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getMan",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"Man",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getManById",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"ManDetail",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getManBySearch",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"SearchMan",method:"POST",body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insertManDetail",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"InsertMan",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateManDetail",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"UpdateMan",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resignMan",value:function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.directFetch({url:"ResignMan",method:"POST",body:JSON.stringify(t)});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getResignMan",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"ManRe",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPosition",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetPosition",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(n(171).a)},750:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(19),c=n.n(a),r=n(39),i=n(54),s=n(55),o=n(66),u=n(65),d=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getSectionNKP",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetSectionNKP",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSectionPCBA",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetSectionPCBA",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSectionPMD",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetSectionPMD",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSectionIMO",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetSectionIMO",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSectionIAD",value:function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.directFetch({url:"GetSectionIAD",mathod:"GET"}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(n(171).a)},851:function(e,t,n){"use strict";n(19),n(22),n(39),n(169),n(1),n(983);var a=n(750),c=n(698);n(17),new c.a,new a.a}}]);
//# sourceMappingURL=24.833d2e13.chunk.js.map